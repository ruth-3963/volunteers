{"ast":null,"code":"import { createCheckBox } from '@syncfusion/ej2-buttons';\nimport { Input } from '@syncfusion/ej2-inputs';\nimport { EventHandler, select, removeClass, addClass, detach, compile, L10n, isBlazor } from '@syncfusion/ej2-base';\nimport { Browser, attributes, isNullOrUndefined, append, closest, prepend } from '@syncfusion/ej2-base';\nimport { dropDownBaseClasses } from '../drop-down-base/drop-down-base';\nvar ICON = 'e-icons';\nvar CHECKBOXFRAME = 'e-frame';\nvar CHECK = 'e-check';\nvar CHECKBOXWRAP = 'e-checkbox-wrapper';\nvar CHECKBOXRIPPLE = 'e-ripple-container';\nvar INDETERMINATE = 'e-stop';\nvar checkAllParent = 'e-selectall-parent';\nvar searchBackIcon = 'e-input-group-icon e-back-icon e-icons';\nvar filterBarClearIcon = 'e-input-group-icon e-clear-icon e-icons';\nvar filterInput = 'e-input-filter';\nvar filterParent = 'e-filter-parent';\nvar mobileFilter = 'e-ddl-device-filter';\nvar clearIcon = 'e-clear-icon';\nvar popupFullScreen = 'e-popup-full-page';\nvar device = 'e-ddl-device';\nvar FOCUS = 'e-input-focus';\n/**\r\n * The Multiselect enable CheckBoxSelection call this inject module.\r\n */\n\nvar CheckBoxSelection =\n/** @class */\nfunction () {\n  function CheckBoxSelection(parent) {\n    this.activeLi = [];\n    this.activeEle = [];\n    this.parent = parent;\n    this.removeEventListener();\n    this.addEventListener();\n  }\n\n  CheckBoxSelection.prototype.getModuleName = function () {\n    return 'CheckBoxSelection';\n  };\n\n  CheckBoxSelection.prototype.addEventListener = function () {\n    if (this.parent.isDestroyed) {\n      return;\n    }\n\n    this.parent.on('updatelist', this.listSelection, this);\n    this.parent.on('listoption', this.listOption, this);\n    this.parent.on('selectAll', this.setSelectAll, this);\n    this.parent.on('checkSelectAll', this.checkSelectAll, this);\n    this.parent.on('searchBox', this.setSearchBox, this);\n    this.parent.on('blur', this.onBlur, this);\n    this.parent.on('targetElement', this.targetElement, this);\n    this.parent.on('deviceSearchBox', this.setDeviceSearchBox, this);\n    this.parent.on('inputFocus', this.getFocus, this);\n    this.parent.on('reOrder', this.setReorder, this);\n    this.parent.on('activeList', this.getActiveList, this);\n    this.parent.on('selectAllText', this.setLocale, this);\n    this.parent.on('filterBarPlaceholder', this.setPlaceholder, this);\n    EventHandler.add(document, 'mousedown', this.onDocumentClick, this);\n    this.parent.on('addItem', this.checboxCreate, this);\n    this.parent.on('popupFullScreen', this.setPopupFullScreen, this);\n  };\n\n  CheckBoxSelection.prototype.removeEventListener = function () {\n    if (this.parent.isDestroyed) {\n      return;\n    }\n\n    this.parent.off('updatelist', this.listSelection);\n    this.parent.off('listoption', this.listOption);\n    this.parent.off('selectAll', this.setSelectAll);\n    this.parent.off('checkSelectAll', this.checkSelectAll);\n    this.parent.off('searchBox', this.setSearchBox);\n    this.parent.off('blur', this.onBlur);\n    this.parent.off('targetElement', this.targetElement);\n    this.parent.off('deviceSearchBox', this.setDeviceSearchBox);\n    this.parent.off('inputFocus', this.getFocus);\n    this.parent.off('reOrder', this.setReorder);\n    this.parent.off('activeList', this.getActiveList);\n    this.parent.off('selectAllText', this.setLocale);\n    this.parent.off('filterBarPlaceholder', this.setPlaceholder);\n    this.parent.off('addItem', this.checboxCreate);\n    this.parent.off('popupFullScreen', this.setPopupFullScreen);\n  };\n\n  CheckBoxSelection.prototype.listOption = function (args) {\n    var _this = this;\n\n    if (isNullOrUndefined(this.parent.listCurrentOptions.itemCreated)) {\n      this.parent.listCurrentOptions.itemCreated = function (e) {\n        _this.checboxCreate(e);\n      };\n    } else {\n      var itemCreated_1 = this.parent.listCurrentOptions.itemCreated;\n\n      this.parent.listCurrentOptions.itemCreated = function (e) {\n        _this.checboxCreate(e);\n\n        itemCreated_1.apply(_this, [e]);\n      };\n    }\n  };\n\n  ;\n\n  CheckBoxSelection.prototype.setPlaceholder = function (props) {\n    Input.setPlaceholder(props.filterBarPlaceholder, this.filterInput);\n  };\n\n  CheckBoxSelection.prototype.checboxCreate = function (e) {\n    var item;\n\n    if (!isNullOrUndefined(e.item)) {\n      item = e.item;\n    } else {\n      item = e;\n    }\n\n    if (this.parent.enableGroupCheckBox || item.className !== 'e-list-group-item ' && item.className !== 'e-list-group-item') {\n      var checkboxEle = createCheckBox(this.parent.createElement, true);\n      var icon = select('div.' + ICON, item);\n      var id = item.getAttribute('data-uid');\n      item.insertBefore(checkboxEle, item.childNodes[isNullOrUndefined(icon) ? 0 : 1]);\n      select('.' + CHECKBOXFRAME, checkboxEle);\n      var frame = select('.' + CHECKBOXFRAME, checkboxEle);\n\n      if (this.parent.enableGroupCheckBox) {\n        this.parent.popupWrapper.classList.add('e-multiselect-group');\n      }\n\n      return item;\n    } else {\n      return item;\n    }\n  };\n\n  CheckBoxSelection.prototype.setSelectAll = function () {\n    if (this.parent.showSelectAll) {\n      if (isNullOrUndefined(this.checkAllParent)) {\n        this.checkAllParent = this.parent.createElement('div', {\n          className: checkAllParent\n        });\n        this.selectAllSpan = this.parent.createElement('span', {\n          className: 'e-all-text'\n        });\n        this.selectAllSpan.textContent = '';\n        this.checkAllParent.appendChild(this.selectAllSpan);\n        this.setLocale();\n        this.checboxCreate(this.checkAllParent);\n\n        if (this.parent.headerTemplate) {\n          if (!isNullOrUndefined(this.parent.filterParent)) {\n            append([this.checkAllParent], this.parent.filterParent);\n          } else {\n            append([this.checkAllParent], this.parent.popupWrapper);\n          }\n        }\n\n        if (!this.parent.headerTemplate) {\n          if (!isNullOrUndefined(this.parent.filterParent)) {\n            this.parent.filterParent.parentNode.insertBefore(this.checkAllParent, this.parent.filterParent.nextSibling);\n          } else {\n            prepend([this.checkAllParent], this.parent.popupWrapper);\n          }\n        }\n\n        EventHandler.add(this.checkAllParent, 'mousedown', this.clickHandler, this);\n      }\n\n      if (this.parent.list.classList.contains('e-nodata') || this.parent.listData && this.parent.listData.length <= 1 && !(this.parent.isDynamicDataChange && isBlazor()) || this.parent.isDynamicDataChange && !isNullOrUndefined(this.parent.value) && this.parent.value.length <= 1 && isBlazor()) {\n        this.checkAllParent.style.display = 'none';\n      } else {\n        this.checkAllParent.style.display = 'block';\n      }\n\n      this.parent.selectAllHeight = this.checkAllParent.getBoundingClientRect().height;\n    } else if (!isNullOrUndefined(this.checkAllParent)) {\n      this.checkAllParent.parentElement.removeChild(this.checkAllParent);\n      this.checkAllParent = null;\n    }\n  };\n\n  CheckBoxSelection.prototype.destroy = function () {\n    this.removeEventListener();\n    EventHandler.remove(document, 'mousedown', this.onDocumentClick);\n  };\n\n  CheckBoxSelection.prototype.listSelection = function (args) {\n    var target;\n    var isBlazorListbox = isBlazor() && args.module && args.module === 'listbox';\n\n    if (!isNullOrUndefined(args.e)) {\n      var frameElm = args.li.querySelector('.e-checkbox-wrapper .e-frame');\n      target = !isNullOrUndefined(args.e.target) ? args.e.target.classList.contains('e-frame') && (!this.parent.showSelectAll || this.checkAllParent && !this.checkAllParent.contains(args.e.target)) ? args.e.target : isBlazorListbox ? frameElm : args.li.querySelector('.e-checkbox-wrapper').childNodes[1] : isBlazorListbox ? frameElm : args.li.querySelector('.e-checkbox-wrapper').childNodes[1];\n    } else {\n      var checkboxWrapper = args.li.querySelector('.e-checkbox-wrapper');\n      target = checkboxWrapper ? isBlazorListbox ? checkboxWrapper.querySelector('.e-frame') : checkboxWrapper.childNodes[1] : args.li.lastElementChild.childNodes[1];\n    }\n\n    if (this.parent.itemTemplate || this.parent.enableGroupCheckBox) {\n      target = args.li.firstElementChild.childNodes[1];\n    }\n\n    if (!isNullOrUndefined(target)) {\n      this.checkWrapper = closest(target, '.' + CHECKBOXWRAP);\n    }\n\n    if (!isNullOrUndefined(this.checkWrapper)) {\n      var checkElement = select('.' + CHECKBOXFRAME, this.checkWrapper);\n      var selectAll = false;\n      this.validateCheckNode(this.checkWrapper, checkElement.classList.contains(CHECK), args.li, args.e, selectAll);\n    }\n  };\n\n  CheckBoxSelection.prototype.validateCheckNode = function (checkWrap, isCheck, li, e, selectAll) {\n    this.changeState(checkWrap, isCheck ? 'uncheck' : 'check', e, true, selectAll);\n  };\n\n  CheckBoxSelection.prototype.clickHandler = function (e) {\n    var target;\n\n    if (e.currentTarget.classList.contains(this.checkAllParent.className)) {\n      target = e.currentTarget.firstElementChild.lastElementChild;\n    } else {\n      target = e.currentTarget;\n    }\n\n    this.checkWrapper = closest(target, '.' + CHECKBOXWRAP);\n    var selectAll = true;\n\n    if (!isNullOrUndefined(this.checkWrapper)) {\n      var checkElement = select('.' + CHECKBOXFRAME, this.checkWrapper);\n      this.validateCheckNode(this.checkWrapper, checkElement.classList.contains(CHECK), null, e, selectAll);\n    }\n\n    e.preventDefault();\n  };\n\n  CheckBoxSelection.prototype.changeState = function (wrapper, state, e, isPrevent, selectAll) {\n    var ariaState;\n    var frameSpan = wrapper.getElementsByClassName(CHECKBOXFRAME)[0];\n\n    if (state === 'check' && !frameSpan.classList.contains(CHECK)) {\n      frameSpan.classList.remove(INDETERMINATE);\n      frameSpan.classList.add(CHECK);\n      ariaState = 'true';\n\n      if (selectAll) {\n        this.parent.selectAllItems(true, e);\n        this.setLocale(true);\n      }\n    } else if (state === 'uncheck' && (frameSpan.classList.contains(CHECK) || frameSpan.classList.contains(INDETERMINATE))) {\n      removeClass([frameSpan], [CHECK, INDETERMINATE]);\n      ariaState = 'false';\n\n      if (selectAll) {\n        this.parent.selectAllItems(false, e);\n        this.setLocale();\n      }\n    } else if (state === 'indeterminate' && !frameSpan.classList.contains(INDETERMINATE)) {\n      removeClass([frameSpan], [CHECK]);\n      frameSpan.classList.add(INDETERMINATE);\n      ariaState = 'false';\n\n      if (selectAll) {\n        this.parent.selectAllItems(false, e);\n        this.setLocale();\n      }\n    }\n\n    ariaState = state === 'check' ? 'true' : state === 'uncheck' ? 'false' : ariaState;\n\n    if (!isNullOrUndefined(ariaState)) {\n      wrapper.setAttribute('aria-checked', ariaState);\n    }\n  };\n\n  CheckBoxSelection.prototype.setSearchBox = function (args) {\n    if (isNullOrUndefined(this.parent.filterParent)) {\n      this.parent.filterParent = this.parent.createElement('span', {\n        className: filterParent\n      });\n      this.filterInput = this.parent.createElement('input', {\n        attrs: {\n          type: 'text'\n        },\n        className: filterInput\n      });\n      this.parent.element.parentNode.insertBefore(this.filterInput, this.parent.element);\n      var backIcon = false;\n\n      if (Browser.isDevice) {\n        backIcon = true;\n        this.parent.mobFilter = false;\n      }\n\n      this.filterInputObj = Input.createInput({\n        element: this.filterInput,\n        buttons: backIcon ? [searchBackIcon, filterBarClearIcon] : [filterBarClearIcon],\n        properties: {\n          placeholder: this.parent.filterBarPlaceholder\n        }\n      }, this.parent.createElement);\n\n      if (!isNullOrUndefined(this.parent.cssClass)) {\n        if (this.parent.cssClass.split(' ').indexOf('e-outline') !== -1) {\n          addClass([this.filterInputObj.container], 'e-outline');\n        } else if (this.parent.cssClass.split(' ').indexOf('e-filled') !== -1) {\n          addClass([this.filterInputObj.container], 'e-filled');\n        }\n      }\n\n      append([this.filterInputObj.container], this.parent.filterParent);\n      prepend([this.parent.filterParent], args.popupElement);\n      attributes(this.filterInput, {\n        'aria-disabled': 'false',\n        'aria-owns': this.parent.element.id + '_options',\n        'role': 'listbox',\n        'aria-activedescendant': null,\n        'autocomplete': 'off',\n        'autocorrect': 'off',\n        'autocapitalize': 'off',\n        'spellcheck': 'false'\n      });\n      this.clearIconElement = this.filterInput.parentElement.querySelector('.' + clearIcon);\n\n      if (!Browser.isDevice && this.clearIconElement) {\n        EventHandler.add(this.clearIconElement, 'mousedown', this.clearText, this);\n        this.clearIconElement.style.visibility = 'hidden';\n      }\n\n      EventHandler.add(this.filterInput, 'input', this.parent.onInput, this.parent);\n      EventHandler.add(this.filterInput, 'keyup', this.parent.KeyUp, this.parent);\n      EventHandler.add(this.filterInput, 'keydown', this.parent.onKeyDown, this.parent);\n      EventHandler.add(this.filterInput, 'blur', this.onBlur, this);\n      EventHandler.add(this.filterInput, 'paste', this.parent.pasteHandler, this.parent);\n      this.parent.searchBoxHeight = this.filterInputObj.container.parentElement.getBoundingClientRect().height;\n      return this.filterInputObj;\n    }\n  };\n\n  ;\n\n  CheckBoxSelection.prototype.clickOnBackIcon = function (e) {\n    this.parent.hidePopup();\n    removeClass([document.body, this.parent.popupObj.element], popupFullScreen);\n    this.parent.inputElement.focus();\n  };\n\n  CheckBoxSelection.prototype.clearText = function (e) {\n    this.parent.targetInputElement.value = '';\n\n    if (this.parent.allowFiltering && this.parent.targetInputElement.value === '') {\n      this.parent.search(null);\n    }\n\n    this.parent.refreshPopup();\n    this.parent.refreshListItems(null);\n    this.clearIconElement.style.visibility = 'hidden';\n    this.filterInput.focus();\n    this.setReorder(e);\n    e.preventDefault();\n  };\n\n  CheckBoxSelection.prototype.setDeviceSearchBox = function () {\n    this.parent.popupObj.element.classList.add(device);\n    this.parent.popupObj.element.classList.add(mobileFilter);\n    this.parent.popupObj.position = {\n      X: 0,\n      Y: 0\n    };\n    this.parent.popupObj.dataBind();\n    this.setSearchBoxPosition();\n    this.backIconElement = this.filterInputObj.container.querySelector('.e-back-icon');\n    this.clearIconElement = this.filterInputObj.container.querySelector('.' + clearIcon);\n    this.clearIconElement.style.visibility = 'hidden';\n    EventHandler.add(this.backIconElement, 'click', this.clickOnBackIcon, this);\n    EventHandler.add(this.clearIconElement, 'click', this.clearText, this);\n  };\n\n  CheckBoxSelection.prototype.setSearchBoxPosition = function () {\n    var searchBoxHeight = this.filterInput.parentElement.getBoundingClientRect().height;\n    var selectAllHeight = 0;\n\n    if (this.checkAllParent) {\n      selectAllHeight = this.checkAllParent.getBoundingClientRect().height;\n    }\n\n    this.parent.popupObj.element.style.maxHeight = '100%';\n    this.parent.popupObj.element.style.width = '100%';\n    this.parent.list.style.maxHeight = window.innerHeight - searchBoxHeight - selectAllHeight + 'px';\n    this.parent.list.style.height = window.innerHeight - searchBoxHeight - selectAllHeight + 'px';\n    var clearElement = this.filterInput.parentElement.querySelector('.' + clearIcon);\n    detach(this.filterInput);\n    clearElement.parentElement.insertBefore(this.filterInput, clearElement);\n  };\n\n  CheckBoxSelection.prototype.setPopupFullScreen = function () {\n    attributes(this.parent.popupObj.element, {\n      style: 'left:0px;right:0px;top:0px;bottom:0px;'\n    });\n    addClass([document.body, this.parent.popupObj.element], popupFullScreen);\n    this.parent.popupObj.element.style.maxHeight = '100%';\n    this.parent.popupObj.element.style.width = '100%';\n  };\n\n  CheckBoxSelection.prototype.targetElement = function () {\n    if (!isNullOrUndefined(this.clearIconElement)) {\n      this.parent.targetInputElement = this.filterInput;\n      this.clearIconElement.style.visibility = this.parent.targetInputElement.value === '' ? 'hidden' : 'visible';\n    }\n\n    return this.parent.targetInputElement.value;\n  };\n\n  CheckBoxSelection.prototype.onBlur = function (e) {\n    if (!this.parent.element.classList.contains('e-listbox')) {\n      var target = void 0;\n\n      if (this.parent.keyAction) {\n        return;\n      }\n\n      if (Browser.isIE) {\n        target = !isNullOrUndefined(e) && e.target;\n      }\n\n      if (!Browser.isIE) {\n        target = !isNullOrUndefined(e) && e.relatedTarget;\n      }\n\n      if (this.parent.popupObj && document.body.contains(this.parent.popupObj.element) && this.parent.popupObj.element.contains(target) && !Browser.isIE && this.filterInput) {\n        this.filterInput.focus();\n        return;\n      }\n\n      if (this.parent.scrollFocusStatus && this.filterInput) {\n        e.preventDefault();\n        this.filterInput.focus();\n        this.parent.scrollFocusStatus = false;\n        return;\n      }\n\n      if (this.parent.popupObj && document.body.contains(this.parent.popupObj.element) && !this.parent.popupObj.element.classList.contains('e-popup-close')) {\n        this.parent.inputFocus = false;\n        this.parent.updateValueState(e, this.parent.value, this.parent.tempValues);\n        this.parent.dispatchEvent(this.parent.hiddenElement, 'change');\n      }\n\n      if (this.parent.popupObj && document.body.contains(this.parent.popupObj.element) && !this.parent.popupObj.element.classList.contains('e-popup-close')) {\n        this.parent.inputFocus = false;\n        this.parent.overAllWrapper.classList.remove(FOCUS);\n        this.parent.trigger('blur');\n        this.parent.focused = true;\n      }\n\n      if (this.parent.popupObj && document.body.contains(this.parent.popupObj.element) && !this.parent.popupObj.element.classList.contains('e-popup-close') && !Browser.isDevice) {\n        this.parent.hidePopup();\n      }\n    }\n  };\n\n  CheckBoxSelection.prototype.onDocumentClick = function (e) {\n    if (this.parent.getLocaleName() !== 'listbox') {\n      var target = e.target;\n\n      if (!isNullOrUndefined(this.parent.popupObj) && closest(target, '[id=\"' + this.parent.popupObj.element.id + '\"]')) {\n        if (!(this.filterInput && this.filterInput.value !== '')) {\n          e.preventDefault();\n        }\n      }\n\n      if (!(!isNullOrUndefined(this.parent.popupObj) && closest(target, '[id=\"' + this.parent.popupObj.element.id + '\"]')) && !this.parent.overAllWrapper.contains(e.target)) {\n        if (this.parent.overAllWrapper.classList.contains(dropDownBaseClasses.focus) || this.parent.isPopupOpen()) {\n          this.parent.inputFocus = false;\n          this.parent.scrollFocusStatus = false;\n          this.parent.hidePopup();\n          this.parent.onBlur(e, true);\n          this.parent.focused = true;\n        }\n      } else {\n        this.parent.scrollFocusStatus = (Browser.isIE || Browser.info.name === 'edge') && document.activeElement === this.filterInput;\n      }\n\n      if (!this.parent.overAllWrapper.contains(e.target) && this.parent.overAllWrapper.classList.contains('e-input-focus') && !this.parent.isPopupOpen()) {\n        if (Browser.isIE) {\n          this.parent.onBlur();\n        } else {\n          this.parent.onBlur(e);\n        }\n      }\n\n      if (this.filterInput === target) {\n        this.filterInput.focus();\n      }\n    }\n  };\n\n  CheckBoxSelection.prototype.getFocus = function (e) {\n    this.parent.overAllWrapper.classList.remove(FOCUS);\n\n    if (this.parent.keyAction && e.value !== 'clear' && e.value !== 'focus') {\n      this.parent.keyAction = false;\n      return;\n    }\n\n    if (e.value === 'focus') {\n      this.filterInput.focus();\n      this.parent.removeFocus();\n      EventHandler.remove(this.parent.list, 'keydown', this.parent.onKeyDown);\n    }\n\n    if (e.value === 'clear') {\n      this.filterInput.value = '';\n      this.clearIconElement.style.visibility = 'hidden';\n    }\n  };\n\n  CheckBoxSelection.prototype.checkSelectAll = function (e) {\n    if (e.value === 'check' && this.checkAllParent.getAttribute('aria-checked') !== 'true') {\n      this.changeState(this.checkAllParent, e.value, null, null, false);\n      this.setLocale(true);\n    }\n\n    if (e.value === 'uncheck') {\n      this.changeState(this.checkAllParent, e.value, null, null, false);\n      this.setLocale();\n    }\n\n    if (e.value === 'indeterminate') {\n      this.changeState(this.checkAllParent, e.value, null, null, false);\n      this.setLocale();\n    }\n  };\n\n  CheckBoxSelection.prototype.setLocale = function (unSelect) {\n    if (this.parent.selectAllText !== 'Select All' || this.parent.unSelectAllText !== 'Unselect All') {\n      var template = unSelect ? this.parent.unSelectAllText : this.parent.selectAllText;\n      var compiledString = void 0;\n      this.selectAllSpan.textContent = '';\n      compiledString = compile(template);\n      var templateName = unSelect ? 'unSelectAllText' : 'selectAllText';\n\n      for (var _i = 0, _a = compiledString({}, this.parent, templateName, null, !this.parent.isStringTemplate); _i < _a.length; _i++) {\n        var item = _a[_i];\n        this.selectAllSpan.textContent = item.textContent;\n      }\n    } else {\n      var l10nLocale = {\n        selectAllText: 'Select All',\n        unSelectAllText: 'Unselect All'\n      };\n      var l10n = new L10n(this.parent.getLocaleName(), {}, this.parent.locale);\n\n      if (l10n.getConstant('selectAllText') === '') {\n        l10n = new L10n('dropdowns', l10nLocale, this.parent.locale);\n      }\n\n      this.selectAllSpan.textContent = unSelect ? l10n.getConstant('unSelectAllText') : l10n.getConstant('selectAllText');\n    }\n  };\n\n  CheckBoxSelection.prototype.getActiveList = function (args) {\n    if (args.li.classList.contains('e-active')) {\n      this.activeLi.push(args.li.cloneNode(true));\n    } else {\n      this.activeLi.splice(args.index, 1);\n    }\n  };\n\n  CheckBoxSelection.prototype.setReorder = function (args) {\n    if (this.parent.enableSelectionOrder && !isNullOrUndefined(this.parent.value)) {\n      var activeLiCount = this.parent.ulElement.querySelectorAll('li.e-active').length;\n      var remLi = void 0;\n      var ulEle = this.parent.createElement('ul', {\n        className: 'e-list-parent e-ul e-reorder'\n      });\n      var removeEle = this.parent.createElement('div');\n\n      if (activeLiCount > 0) {\n        append(this.parent.ulElement.querySelectorAll('li.e-active'), ulEle);\n        remLi = this.parent.ulElement.querySelectorAll('li.e-active');\n        addClass(remLi, 'e-reorder-hide');\n        prepend([ulEle], this.parent.list);\n      }\n\n      this.parent.focusAtFirstListItem();\n    }\n  };\n\n  return CheckBoxSelection;\n}();\n\nexport { CheckBoxSelection };","map":{"version":3,"sources":["C:/Users/User/volunteers/node_modules/@syncfusion/ej2-dropdowns/src/multi-select/checkbox-selection.js"],"names":["createCheckBox","Input","EventHandler","select","removeClass","addClass","detach","compile","L10n","isBlazor","Browser","attributes","isNullOrUndefined","append","closest","prepend","dropDownBaseClasses","ICON","CHECKBOXFRAME","CHECK","CHECKBOXWRAP","CHECKBOXRIPPLE","INDETERMINATE","checkAllParent","searchBackIcon","filterBarClearIcon","filterInput","filterParent","mobileFilter","clearIcon","popupFullScreen","device","FOCUS","CheckBoxSelection","parent","activeLi","activeEle","removeEventListener","addEventListener","prototype","getModuleName","isDestroyed","on","listSelection","listOption","setSelectAll","checkSelectAll","setSearchBox","onBlur","targetElement","setDeviceSearchBox","getFocus","setReorder","getActiveList","setLocale","setPlaceholder","add","document","onDocumentClick","checboxCreate","setPopupFullScreen","off","args","_this","listCurrentOptions","itemCreated","e","itemCreated_1","apply","props","filterBarPlaceholder","item","enableGroupCheckBox","className","checkboxEle","createElement","icon","id","getAttribute","insertBefore","childNodes","frame","popupWrapper","classList","showSelectAll","selectAllSpan","textContent","appendChild","headerTemplate","parentNode","nextSibling","clickHandler","list","contains","listData","length","isDynamicDataChange","value","style","display","selectAllHeight","getBoundingClientRect","height","parentElement","removeChild","destroy","remove","target","isBlazorListbox","module","frameElm","li","querySelector","checkboxWrapper","lastElementChild","itemTemplate","firstElementChild","checkWrapper","checkElement","selectAll","validateCheckNode","checkWrap","isCheck","changeState","currentTarget","preventDefault","wrapper","state","isPrevent","ariaState","frameSpan","getElementsByClassName","selectAllItems","setAttribute","attrs","type","element","backIcon","isDevice","mobFilter","filterInputObj","createInput","buttons","properties","placeholder","cssClass","split","indexOf","container","popupElement","clearIconElement","clearText","visibility","onInput","KeyUp","onKeyDown","pasteHandler","searchBoxHeight","clickOnBackIcon","hidePopup","body","popupObj","inputElement","focus","targetInputElement","allowFiltering","search","refreshPopup","refreshListItems","position","X","Y","dataBind","setSearchBoxPosition","backIconElement","maxHeight","width","window","innerHeight","clearElement","keyAction","isIE","relatedTarget","scrollFocusStatus","inputFocus","updateValueState","tempValues","dispatchEvent","hiddenElement","overAllWrapper","trigger","focused","getLocaleName","isPopupOpen","info","name","activeElement","removeFocus","unSelect","selectAllText","unSelectAllText","template","compiledString","templateName","_i","_a","isStringTemplate","l10nLocale","l10n","locale","getConstant","push","cloneNode","splice","index","enableSelectionOrder","activeLiCount","ulElement","querySelectorAll","remLi","ulEle","removeEle","focusAtFirstListItem"],"mappings":"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","sourcesContent":["import { createCheckBox } from '@syncfusion/ej2-buttons';\r\nimport { Input } from '@syncfusion/ej2-inputs';\r\nimport { EventHandler, select, removeClass, addClass, detach, compile, L10n, isBlazor } from '@syncfusion/ej2-base';\r\nimport { Browser, attributes, isNullOrUndefined, append, closest, prepend } from '@syncfusion/ej2-base';\r\nimport { dropDownBaseClasses } from '../drop-down-base/drop-down-base';\r\nvar ICON = 'e-icons';\r\nvar CHECKBOXFRAME = 'e-frame';\r\nvar CHECK = 'e-check';\r\nvar CHECKBOXWRAP = 'e-checkbox-wrapper';\r\nvar CHECKBOXRIPPLE = 'e-ripple-container';\r\nvar INDETERMINATE = 'e-stop';\r\nvar checkAllParent = 'e-selectall-parent';\r\nvar searchBackIcon = 'e-input-group-icon e-back-icon e-icons';\r\nvar filterBarClearIcon = 'e-input-group-icon e-clear-icon e-icons';\r\nvar filterInput = 'e-input-filter';\r\nvar filterParent = 'e-filter-parent';\r\nvar mobileFilter = 'e-ddl-device-filter';\r\nvar clearIcon = 'e-clear-icon';\r\nvar popupFullScreen = 'e-popup-full-page';\r\nvar device = 'e-ddl-device';\r\nvar FOCUS = 'e-input-focus';\r\n/**\r\n * The Multiselect enable CheckBoxSelection call this inject module.\r\n */\r\nvar CheckBoxSelection = /** @class */ (function () {\r\n    function CheckBoxSelection(parent) {\r\n        this.activeLi = [];\r\n        this.activeEle = [];\r\n        this.parent = parent;\r\n        this.removeEventListener();\r\n        this.addEventListener();\r\n    }\r\n    CheckBoxSelection.prototype.getModuleName = function () {\r\n        return 'CheckBoxSelection';\r\n    };\r\n    CheckBoxSelection.prototype.addEventListener = function () {\r\n        if (this.parent.isDestroyed) {\r\n            return;\r\n        }\r\n        this.parent.on('updatelist', this.listSelection, this);\r\n        this.parent.on('listoption', this.listOption, this);\r\n        this.parent.on('selectAll', this.setSelectAll, this);\r\n        this.parent.on('checkSelectAll', this.checkSelectAll, this);\r\n        this.parent.on('searchBox', this.setSearchBox, this);\r\n        this.parent.on('blur', this.onBlur, this);\r\n        this.parent.on('targetElement', this.targetElement, this);\r\n        this.parent.on('deviceSearchBox', this.setDeviceSearchBox, this);\r\n        this.parent.on('inputFocus', this.getFocus, this);\r\n        this.parent.on('reOrder', this.setReorder, this);\r\n        this.parent.on('activeList', this.getActiveList, this);\r\n        this.parent.on('selectAllText', this.setLocale, this);\r\n        this.parent.on('filterBarPlaceholder', this.setPlaceholder, this);\r\n        EventHandler.add(document, 'mousedown', this.onDocumentClick, this);\r\n        this.parent.on('addItem', this.checboxCreate, this);\r\n        this.parent.on('popupFullScreen', this.setPopupFullScreen, this);\r\n    };\r\n    CheckBoxSelection.prototype.removeEventListener = function () {\r\n        if (this.parent.isDestroyed) {\r\n            return;\r\n        }\r\n        this.parent.off('updatelist', this.listSelection);\r\n        this.parent.off('listoption', this.listOption);\r\n        this.parent.off('selectAll', this.setSelectAll);\r\n        this.parent.off('checkSelectAll', this.checkSelectAll);\r\n        this.parent.off('searchBox', this.setSearchBox);\r\n        this.parent.off('blur', this.onBlur);\r\n        this.parent.off('targetElement', this.targetElement);\r\n        this.parent.off('deviceSearchBox', this.setDeviceSearchBox);\r\n        this.parent.off('inputFocus', this.getFocus);\r\n        this.parent.off('reOrder', this.setReorder);\r\n        this.parent.off('activeList', this.getActiveList);\r\n        this.parent.off('selectAllText', this.setLocale);\r\n        this.parent.off('filterBarPlaceholder', this.setPlaceholder);\r\n        this.parent.off('addItem', this.checboxCreate);\r\n        this.parent.off('popupFullScreen', this.setPopupFullScreen);\r\n    };\r\n    CheckBoxSelection.prototype.listOption = function (args) {\r\n        var _this = this;\r\n        if (isNullOrUndefined(this.parent.listCurrentOptions.itemCreated)) {\r\n            this.parent.listCurrentOptions.itemCreated = function (e) {\r\n                _this.checboxCreate(e);\r\n            };\r\n        }\r\n        else {\r\n            var itemCreated_1 = this.parent.listCurrentOptions.itemCreated;\r\n            this.parent.listCurrentOptions.itemCreated = function (e) {\r\n                _this.checboxCreate(e);\r\n                itemCreated_1.apply(_this, [e]);\r\n            };\r\n        }\r\n    };\r\n    ;\r\n    CheckBoxSelection.prototype.setPlaceholder = function (props) {\r\n        Input.setPlaceholder(props.filterBarPlaceholder, this.filterInput);\r\n    };\r\n    CheckBoxSelection.prototype.checboxCreate = function (e) {\r\n        var item;\r\n        if (!isNullOrUndefined(e.item)) {\r\n            item = e.item;\r\n        }\r\n        else {\r\n            item = e;\r\n        }\r\n        if (this.parent.enableGroupCheckBox || (item.className !== 'e-list-group-item '\r\n            && item.className !== 'e-list-group-item')) {\r\n            var checkboxEle = createCheckBox(this.parent.createElement, true);\r\n            var icon = select('div.' + ICON, item);\r\n            var id = item.getAttribute('data-uid');\r\n            item.insertBefore(checkboxEle, item.childNodes[isNullOrUndefined(icon) ? 0 : 1]);\r\n            select('.' + CHECKBOXFRAME, checkboxEle);\r\n            var frame = select('.' + CHECKBOXFRAME, checkboxEle);\r\n            if (this.parent.enableGroupCheckBox) {\r\n                this.parent.popupWrapper.classList.add('e-multiselect-group');\r\n            }\r\n            return item;\r\n        }\r\n        else {\r\n            return item;\r\n        }\r\n    };\r\n    CheckBoxSelection.prototype.setSelectAll = function () {\r\n        if (this.parent.showSelectAll) {\r\n            if (isNullOrUndefined(this.checkAllParent)) {\r\n                this.checkAllParent = this.parent.createElement('div', {\r\n                    className: checkAllParent\r\n                });\r\n                this.selectAllSpan = this.parent.createElement('span', {\r\n                    className: 'e-all-text'\r\n                });\r\n                this.selectAllSpan.textContent = '';\r\n                this.checkAllParent.appendChild(this.selectAllSpan);\r\n                this.setLocale();\r\n                this.checboxCreate(this.checkAllParent);\r\n                if (this.parent.headerTemplate) {\r\n                    if (!isNullOrUndefined(this.parent.filterParent)) {\r\n                        append([this.checkAllParent], this.parent.filterParent);\r\n                    }\r\n                    else {\r\n                        append([this.checkAllParent], this.parent.popupWrapper);\r\n                    }\r\n                }\r\n                if (!this.parent.headerTemplate) {\r\n                    if (!isNullOrUndefined(this.parent.filterParent)) {\r\n                        this.parent.filterParent.parentNode.insertBefore(this.checkAllParent, this.parent.filterParent.nextSibling);\r\n                    }\r\n                    else {\r\n                        prepend([this.checkAllParent], this.parent.popupWrapper);\r\n                    }\r\n                }\r\n                EventHandler.add(this.checkAllParent, 'mousedown', this.clickHandler, this);\r\n            }\r\n            if (this.parent.list.classList.contains('e-nodata') || (this.parent.listData && this.parent.listData.length <= 1 &&\r\n                !(this.parent.isDynamicDataChange && isBlazor())) || (this.parent.isDynamicDataChange &&\r\n                !isNullOrUndefined(this.parent.value) && this.parent.value.length <= 1 && isBlazor())) {\r\n                this.checkAllParent.style.display = 'none';\r\n            }\r\n            else {\r\n                this.checkAllParent.style.display = 'block';\r\n            }\r\n            this.parent.selectAllHeight = this.checkAllParent.getBoundingClientRect().height;\r\n        }\r\n        else if (!isNullOrUndefined(this.checkAllParent)) {\r\n            this.checkAllParent.parentElement.removeChild(this.checkAllParent);\r\n            this.checkAllParent = null;\r\n        }\r\n    };\r\n    CheckBoxSelection.prototype.destroy = function () {\r\n        this.removeEventListener();\r\n        EventHandler.remove(document, 'mousedown', this.onDocumentClick);\r\n    };\r\n    CheckBoxSelection.prototype.listSelection = function (args) {\r\n        var target;\r\n        var isBlazorListbox = isBlazor() && (args.module && args.module === 'listbox');\r\n        if (!isNullOrUndefined(args.e)) {\r\n            var frameElm = args.li.querySelector('.e-checkbox-wrapper .e-frame');\r\n            target = !isNullOrUndefined(args.e.target) ?\r\n                (args.e.target.classList.contains('e-frame')\r\n                    && (!this.parent.showSelectAll\r\n                        || (this.checkAllParent && !this.checkAllParent.contains(args.e.target)))) ?\r\n                    args.e.target : (isBlazorListbox ? frameElm : args.li.querySelector('.e-checkbox-wrapper').childNodes[1])\r\n                : (isBlazorListbox ? frameElm : args.li.querySelector('.e-checkbox-wrapper').childNodes[1]);\r\n        }\r\n        else {\r\n            var checkboxWrapper = args.li.querySelector('.e-checkbox-wrapper');\r\n            target = checkboxWrapper ? (isBlazorListbox ?\r\n                checkboxWrapper.querySelector('.e-frame') : checkboxWrapper.childNodes[1]) : args.li.lastElementChild.childNodes[1];\r\n        }\r\n        if (this.parent.itemTemplate || this.parent.enableGroupCheckBox) {\r\n            target = args.li.firstElementChild.childNodes[1];\r\n        }\r\n        if (!isNullOrUndefined(target)) {\r\n            this.checkWrapper = closest(target, '.' + CHECKBOXWRAP);\r\n        }\r\n        if (!isNullOrUndefined(this.checkWrapper)) {\r\n            var checkElement = select('.' + CHECKBOXFRAME, this.checkWrapper);\r\n            var selectAll = false;\r\n            this.validateCheckNode(this.checkWrapper, checkElement.classList.contains(CHECK), args.li, args.e, selectAll);\r\n        }\r\n    };\r\n    CheckBoxSelection.prototype.validateCheckNode = function (checkWrap, isCheck, li, e, selectAll) {\r\n        this.changeState(checkWrap, isCheck ? 'uncheck' : 'check', e, true, selectAll);\r\n    };\r\n    CheckBoxSelection.prototype.clickHandler = function (e) {\r\n        var target;\r\n        if (e.currentTarget.classList.contains(this.checkAllParent.className)) {\r\n            target = e.currentTarget.firstElementChild.lastElementChild;\r\n        }\r\n        else {\r\n            target = e.currentTarget;\r\n        }\r\n        this.checkWrapper = closest(target, '.' + CHECKBOXWRAP);\r\n        var selectAll = true;\r\n        if (!isNullOrUndefined(this.checkWrapper)) {\r\n            var checkElement = select('.' + CHECKBOXFRAME, this.checkWrapper);\r\n            this.validateCheckNode(this.checkWrapper, checkElement.classList.contains(CHECK), null, e, selectAll);\r\n        }\r\n        e.preventDefault();\r\n    };\r\n    CheckBoxSelection.prototype.changeState = function (wrapper, state, e, isPrevent, selectAll) {\r\n        var ariaState;\r\n        var frameSpan = wrapper.getElementsByClassName(CHECKBOXFRAME)[0];\r\n        if (state === 'check' && !frameSpan.classList.contains(CHECK)) {\r\n            frameSpan.classList.remove(INDETERMINATE);\r\n            frameSpan.classList.add(CHECK);\r\n            ariaState = 'true';\r\n            if (selectAll) {\r\n                this.parent.selectAllItems(true, e);\r\n                this.setLocale(true);\r\n            }\r\n        }\r\n        else if (state === 'uncheck' && (frameSpan.classList.contains(CHECK) || frameSpan.classList.contains(INDETERMINATE))) {\r\n            removeClass([frameSpan], [CHECK, INDETERMINATE]);\r\n            ariaState = 'false';\r\n            if (selectAll) {\r\n                this.parent.selectAllItems(false, e);\r\n                this.setLocale();\r\n            }\r\n        }\r\n        else if (state === 'indeterminate' && !(frameSpan.classList.contains(INDETERMINATE))) {\r\n            removeClass([frameSpan], [CHECK]);\r\n            frameSpan.classList.add(INDETERMINATE);\r\n            ariaState = 'false';\r\n            if (selectAll) {\r\n                this.parent.selectAllItems(false, e);\r\n                this.setLocale();\r\n            }\r\n        }\r\n        ariaState = state === 'check' ? 'true' : state === 'uncheck' ? 'false' : ariaState;\r\n        if (!isNullOrUndefined(ariaState)) {\r\n            wrapper.setAttribute('aria-checked', ariaState);\r\n        }\r\n    };\r\n    CheckBoxSelection.prototype.setSearchBox = function (args) {\r\n        if (isNullOrUndefined(this.parent.filterParent)) {\r\n            this.parent.filterParent = this.parent.createElement('span', {\r\n                className: filterParent\r\n            });\r\n            this.filterInput = this.parent.createElement('input', {\r\n                attrs: { type: 'text' },\r\n                className: filterInput\r\n            });\r\n            this.parent.element.parentNode.insertBefore(this.filterInput, this.parent.element);\r\n            var backIcon = false;\r\n            if (Browser.isDevice) {\r\n                backIcon = true;\r\n                this.parent.mobFilter = false;\r\n            }\r\n            this.filterInputObj = Input.createInput({\r\n                element: this.filterInput,\r\n                buttons: backIcon ? [searchBackIcon, filterBarClearIcon] : [filterBarClearIcon],\r\n                properties: { placeholder: this.parent.filterBarPlaceholder }\r\n            }, this.parent.createElement);\r\n            if (!isNullOrUndefined(this.parent.cssClass)) {\r\n                if (this.parent.cssClass.split(' ').indexOf('e-outline') !== -1) {\r\n                    addClass([this.filterInputObj.container], 'e-outline');\r\n                }\r\n                else if (this.parent.cssClass.split(' ').indexOf('e-filled') !== -1) {\r\n                    addClass([this.filterInputObj.container], 'e-filled');\r\n                }\r\n            }\r\n            append([this.filterInputObj.container], this.parent.filterParent);\r\n            prepend([this.parent.filterParent], args.popupElement);\r\n            attributes(this.filterInput, {\r\n                'aria-disabled': 'false',\r\n                'aria-owns': this.parent.element.id + '_options',\r\n                'role': 'listbox',\r\n                'aria-activedescendant': null,\r\n                'autocomplete': 'off',\r\n                'autocorrect': 'off',\r\n                'autocapitalize': 'off',\r\n                'spellcheck': 'false'\r\n            });\r\n            this.clearIconElement = this.filterInput.parentElement.querySelector('.' + clearIcon);\r\n            if (!Browser.isDevice && this.clearIconElement) {\r\n                EventHandler.add(this.clearIconElement, 'mousedown', this.clearText, this);\r\n                this.clearIconElement.style.visibility = 'hidden';\r\n            }\r\n            EventHandler.add(this.filterInput, 'input', this.parent.onInput, this.parent);\r\n            EventHandler.add(this.filterInput, 'keyup', this.parent.KeyUp, this.parent);\r\n            EventHandler.add(this.filterInput, 'keydown', this.parent.onKeyDown, this.parent);\r\n            EventHandler.add(this.filterInput, 'blur', this.onBlur, this);\r\n            EventHandler.add(this.filterInput, 'paste', this.parent.pasteHandler, this.parent);\r\n            this.parent.searchBoxHeight = (this.filterInputObj.container.parentElement).getBoundingClientRect().height;\r\n            return this.filterInputObj;\r\n        }\r\n    };\r\n    ;\r\n    CheckBoxSelection.prototype.clickOnBackIcon = function (e) {\r\n        this.parent.hidePopup();\r\n        removeClass([document.body, this.parent.popupObj.element], popupFullScreen);\r\n        this.parent.inputElement.focus();\r\n    };\r\n    CheckBoxSelection.prototype.clearText = function (e) {\r\n        this.parent.targetInputElement.value = '';\r\n        if (this.parent.allowFiltering && this.parent.targetInputElement.value === '') {\r\n            this.parent.search(null);\r\n        }\r\n        this.parent.refreshPopup();\r\n        this.parent.refreshListItems(null);\r\n        this.clearIconElement.style.visibility = 'hidden';\r\n        this.filterInput.focus();\r\n        this.setReorder(e);\r\n        e.preventDefault();\r\n    };\r\n    CheckBoxSelection.prototype.setDeviceSearchBox = function () {\r\n        this.parent.popupObj.element.classList.add(device);\r\n        this.parent.popupObj.element.classList.add(mobileFilter);\r\n        this.parent.popupObj.position = { X: 0, Y: 0 };\r\n        this.parent.popupObj.dataBind();\r\n        this.setSearchBoxPosition();\r\n        this.backIconElement = this.filterInputObj.container.querySelector('.e-back-icon');\r\n        this.clearIconElement = this.filterInputObj.container.querySelector('.' + clearIcon);\r\n        this.clearIconElement.style.visibility = 'hidden';\r\n        EventHandler.add(this.backIconElement, 'click', this.clickOnBackIcon, this);\r\n        EventHandler.add(this.clearIconElement, 'click', this.clearText, this);\r\n    };\r\n    CheckBoxSelection.prototype.setSearchBoxPosition = function () {\r\n        var searchBoxHeight = this.filterInput.parentElement.getBoundingClientRect().height;\r\n        var selectAllHeight = 0;\r\n        if (this.checkAllParent) {\r\n            selectAllHeight = this.checkAllParent.getBoundingClientRect().height;\r\n        }\r\n        this.parent.popupObj.element.style.maxHeight = '100%';\r\n        this.parent.popupObj.element.style.width = '100%';\r\n        this.parent.list.style.maxHeight = (window.innerHeight - searchBoxHeight - selectAllHeight) + 'px';\r\n        this.parent.list.style.height = (window.innerHeight - searchBoxHeight - selectAllHeight) + 'px';\r\n        var clearElement = this.filterInput.parentElement.querySelector('.' + clearIcon);\r\n        detach(this.filterInput);\r\n        clearElement.parentElement.insertBefore(this.filterInput, clearElement);\r\n    };\r\n    CheckBoxSelection.prototype.setPopupFullScreen = function () {\r\n        attributes(this.parent.popupObj.element, { style: 'left:0px;right:0px;top:0px;bottom:0px;' });\r\n        addClass([document.body, this.parent.popupObj.element], popupFullScreen);\r\n        this.parent.popupObj.element.style.maxHeight = '100%';\r\n        this.parent.popupObj.element.style.width = '100%';\r\n    };\r\n    CheckBoxSelection.prototype.targetElement = function () {\r\n        if (!isNullOrUndefined(this.clearIconElement)) {\r\n            this.parent.targetInputElement = this.filterInput;\r\n            this.clearIconElement.style.visibility = this.parent.targetInputElement.value === '' ? 'hidden' : 'visible';\r\n        }\r\n        return this.parent.targetInputElement.value;\r\n    };\r\n    CheckBoxSelection.prototype.onBlur = function (e) {\r\n        if (!this.parent.element.classList.contains('e-listbox')) {\r\n            var target = void 0;\r\n            if (this.parent.keyAction) {\r\n                return;\r\n            }\r\n            if (Browser.isIE) {\r\n                target = !isNullOrUndefined(e) && e.target;\r\n            }\r\n            if (!Browser.isIE) {\r\n                target = !isNullOrUndefined(e) && e.relatedTarget;\r\n            }\r\n            if (this.parent.popupObj && document.body.contains(this.parent.popupObj.element) && this.parent.popupObj.element.contains(target)\r\n                && !Browser.isIE && this.filterInput) {\r\n                this.filterInput.focus();\r\n                return;\r\n            }\r\n            if (this.parent.scrollFocusStatus && this.filterInput) {\r\n                e.preventDefault();\r\n                this.filterInput.focus();\r\n                this.parent.scrollFocusStatus = false;\r\n                return;\r\n            }\r\n            if (this.parent.popupObj && document.body.contains(this.parent.popupObj.element)\r\n                && !this.parent.popupObj.element.classList.contains('e-popup-close')) {\r\n                this.parent.inputFocus = false;\r\n                this.parent.updateValueState(e, this.parent.value, this.parent.tempValues);\r\n                this.parent.dispatchEvent(this.parent.hiddenElement, 'change');\r\n            }\r\n            if (this.parent.popupObj && document.body.contains(this.parent.popupObj.element) &&\r\n                !this.parent.popupObj.element.classList.contains('e-popup-close')) {\r\n                this.parent.inputFocus = false;\r\n                this.parent.overAllWrapper.classList.remove(FOCUS);\r\n                this.parent.trigger('blur');\r\n                this.parent.focused = true;\r\n            }\r\n            if (this.parent.popupObj && document.body.contains(this.parent.popupObj.element) &&\r\n                !this.parent.popupObj.element.classList.contains('e-popup-close') && !Browser.isDevice) {\r\n                this.parent.hidePopup();\r\n            }\r\n        }\r\n    };\r\n    CheckBoxSelection.prototype.onDocumentClick = function (e) {\r\n        if (this.parent.getLocaleName() !== 'listbox') {\r\n            var target = e.target;\r\n            if (!isNullOrUndefined(this.parent.popupObj) && closest(target, '[id=\"' + this.parent.popupObj.element.id + '\"]')) {\r\n                if (!(this.filterInput && this.filterInput.value !== '')) {\r\n                    e.preventDefault();\r\n                }\r\n            }\r\n            if (!(!isNullOrUndefined(this.parent.popupObj) && closest(target, '[id=\"' + this.parent.popupObj.element.id + '\"]')) &&\r\n                !this.parent.overAllWrapper.contains(e.target)) {\r\n                if (this.parent.overAllWrapper.classList.contains(dropDownBaseClasses.focus) || this.parent.isPopupOpen()) {\r\n                    this.parent.inputFocus = false;\r\n                    this.parent.scrollFocusStatus = false;\r\n                    this.parent.hidePopup();\r\n                    this.parent.onBlur(e, true);\r\n                    this.parent.focused = true;\r\n                }\r\n            }\r\n            else {\r\n                this.parent.scrollFocusStatus = (Browser.isIE || Browser.info.name === 'edge') && (document.activeElement === this.filterInput);\r\n            }\r\n            if (!this.parent.overAllWrapper.contains(e.target) && this.parent.overAllWrapper.classList.contains('e-input-focus') &&\r\n                !this.parent.isPopupOpen()) {\r\n                if (Browser.isIE) {\r\n                    this.parent.onBlur();\r\n                }\r\n                else {\r\n                    this.parent.onBlur(e);\r\n                }\r\n            }\r\n            if (this.filterInput === target) {\r\n                this.filterInput.focus();\r\n            }\r\n        }\r\n    };\r\n    CheckBoxSelection.prototype.getFocus = function (e) {\r\n        this.parent.overAllWrapper.classList.remove(FOCUS);\r\n        if (this.parent.keyAction && e.value !== 'clear' && e.value !== 'focus') {\r\n            this.parent.keyAction = false;\r\n            return;\r\n        }\r\n        if (e.value === 'focus') {\r\n            this.filterInput.focus();\r\n            this.parent.removeFocus();\r\n            EventHandler.remove(this.parent.list, 'keydown', this.parent.onKeyDown);\r\n        }\r\n        if (e.value === 'clear') {\r\n            this.filterInput.value = '';\r\n            this.clearIconElement.style.visibility = 'hidden';\r\n        }\r\n    };\r\n    CheckBoxSelection.prototype.checkSelectAll = function (e) {\r\n        if (e.value === 'check' && this.checkAllParent.getAttribute('aria-checked') !== 'true') {\r\n            this.changeState(this.checkAllParent, e.value, null, null, false);\r\n            this.setLocale(true);\r\n        }\r\n        if (e.value === 'uncheck') {\r\n            this.changeState(this.checkAllParent, e.value, null, null, false);\r\n            this.setLocale();\r\n        }\r\n        if (e.value === 'indeterminate') {\r\n            this.changeState(this.checkAllParent, e.value, null, null, false);\r\n            this.setLocale();\r\n        }\r\n    };\r\n    CheckBoxSelection.prototype.setLocale = function (unSelect) {\r\n        if (this.parent.selectAllText !== 'Select All' || this.parent.unSelectAllText !== 'Unselect All') {\r\n            var template = unSelect ? this.parent.unSelectAllText : this.parent.selectAllText;\r\n            var compiledString = void 0;\r\n            this.selectAllSpan.textContent = '';\r\n            compiledString = compile(template);\r\n            var templateName = unSelect ? 'unSelectAllText' : 'selectAllText';\r\n            for (var _i = 0, _a = compiledString({}, this.parent, templateName, null, !this.parent.isStringTemplate); _i < _a.length; _i++) {\r\n                var item = _a[_i];\r\n                this.selectAllSpan.textContent = item.textContent;\r\n            }\r\n        }\r\n        else {\r\n            var l10nLocale = { selectAllText: 'Select All', unSelectAllText: 'Unselect All' };\r\n            var l10n = new L10n(this.parent.getLocaleName(), {}, this.parent.locale);\r\n            if (l10n.getConstant('selectAllText') === '') {\r\n                l10n = new L10n('dropdowns', l10nLocale, this.parent.locale);\r\n            }\r\n            this.selectAllSpan.textContent = unSelect ? l10n.getConstant('unSelectAllText') : l10n.getConstant('selectAllText');\r\n        }\r\n    };\r\n    CheckBoxSelection.prototype.getActiveList = function (args) {\r\n        if (args.li.classList.contains('e-active')) {\r\n            this.activeLi.push(args.li.cloneNode(true));\r\n        }\r\n        else {\r\n            this.activeLi.splice(args.index, 1);\r\n        }\r\n    };\r\n    CheckBoxSelection.prototype.setReorder = function (args) {\r\n        if (this.parent.enableSelectionOrder && !isNullOrUndefined(this.parent.value)) {\r\n            var activeLiCount = this.parent.ulElement.querySelectorAll('li.e-active').length;\r\n            var remLi = void 0;\r\n            var ulEle = this.parent.createElement('ul', {\r\n                className: 'e-list-parent e-ul e-reorder'\r\n            });\r\n            var removeEle = this.parent.createElement('div');\r\n            if (activeLiCount > 0) {\r\n                append(this.parent.ulElement.querySelectorAll('li.e-active'), ulEle);\r\n                remLi = this.parent.ulElement.querySelectorAll('li.e-active');\r\n                addClass(remLi, 'e-reorder-hide');\r\n                prepend([ulEle], this.parent.list);\r\n            }\r\n            this.parent.focusAtFirstListItem();\r\n        }\r\n    };\r\n    return CheckBoxSelection;\r\n}());\r\nexport { CheckBoxSelection };\r\n"]},"metadata":{},"sourceType":"module"}