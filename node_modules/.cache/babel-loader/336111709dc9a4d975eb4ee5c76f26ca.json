{"ast":null,"code":"import { isNullOrUndefined, createElement, remove, closest, addClass, removeClass, extend } from '@syncfusion/ej2-base';\nimport { Toolbar } from '@syncfusion/ej2-navigations';\nimport { Calendar } from '@syncfusion/ej2-calendars';\nimport { Popup } from '@syncfusion/ej2-popups';\nimport * as events from '../base/constant';\nimport * as util from '../base/util';\nimport * as cls from '../base/css-constant';\n/**\r\n * Header module\r\n */\n\nvar HeaderRenderer =\n/** @class */\nfunction () {\n  /**\r\n   * Constructor for render module\r\n   */\n  function HeaderRenderer(parent) {\n    this.parent = parent;\n    this.l10n = this.parent.localeObj;\n    this.renderHeader();\n    this.addEventListener();\n  }\n\n  HeaderRenderer.prototype.addEventListener = function () {\n    this.parent.on(events.documentClick, this.closeHeaderPopup, this);\n  };\n\n  HeaderRenderer.prototype.removeEventListener = function () {\n    this.parent.off(events.documentClick, this.closeHeaderPopup);\n  };\n\n  HeaderRenderer.prototype.closeHeaderPopup = function (e) {\n    var closestEle = closest(e.event.target, '.e-date-range,.e-header-popup,.e-selected');\n\n    if (!isNullOrUndefined(closestEle)) {\n      return;\n    }\n\n    this.hideHeaderPopup();\n  };\n  /** @hidden */\n\n\n  HeaderRenderer.prototype.hideHeaderPopup = function () {\n    if (this.headerPopup) {\n      this.headerPopup.hide();\n    }\n  };\n\n  HeaderRenderer.prototype.renderHeader = function () {\n    this.element = createElement('div', {\n      className: cls.TOOLBAR_CONTAINER\n    });\n    var toolbarEle = createElement('div', {\n      className: cls.HEADER_TOOLBAR\n    });\n    this.element.appendChild(toolbarEle);\n    this.parent.element.insertBefore(this.element, this.parent.element.firstElementChild);\n    this.renderToolbar();\n  };\n\n  HeaderRenderer.prototype.renderToolbar = function () {\n    var items = this.getItems();\n    var args = {\n      requestType: 'toolbarItemRendering',\n      items: items\n    };\n    this.parent.trigger(events.actionBegin, args);\n    this.toolbarObj = new Toolbar({\n      items: args.items,\n      overflowMode: 'Popup',\n      clicked: this.toolbarClickHandler.bind(this),\n      enableRtl: this.parent.enableRtl,\n      locale: this.parent.locale\n    });\n    this.toolbarObj.isStringTemplate = true;\n    this.toolbarObj.appendTo(this.parent.element.querySelector('.' + cls.HEADER_TOOLBAR));\n    var prevNavEle = this.toolbarObj.element.querySelector('.e-prev');\n\n    if (prevNavEle) {\n      prevNavEle.firstElementChild.setAttribute('title', this.l10n.getConstant('previous'));\n    }\n\n    var nextNavEle = this.toolbarObj.element.querySelector('.e-next');\n\n    if (nextNavEle) {\n      nextNavEle.firstElementChild.setAttribute('title', this.l10n.getConstant('next'));\n    }\n\n    this.updateActiveView();\n    this.parent.trigger(events.actionComplete, {\n      requestType: 'toolBarItemRendered',\n      items: this.toolbarObj.items\n    });\n  };\n\n  HeaderRenderer.prototype.updateItems = function () {\n    if (this.toolbarObj) {\n      var items = this.getItems();\n      var args = {\n        requestType: 'toolbarItemRendering',\n        items: items\n      };\n      this.parent.trigger(events.actionBegin, args);\n      this.toolbarObj.items = args.items;\n      this.toolbarObj.dataBind();\n      this.parent.trigger(events.actionComplete, {\n        requestType: 'toolBarItemRendered',\n        items: this.toolbarObj.items\n      });\n    }\n  };\n\n  HeaderRenderer.prototype.getPopUpRelativeElement = function () {\n    if (this.parent.isAdaptive) {\n      return this.toolbarObj.element;\n    }\n\n    return this.element.querySelector('.e-date-range');\n  };\n\n  HeaderRenderer.prototype.setDayOfWeek = function (index) {\n    if (this.headerCalendar) {\n      this.headerCalendar.firstDayOfWeek = index;\n      this.headerCalendar.dataBind();\n    }\n  };\n\n  HeaderRenderer.prototype.setCalendarDate = function (date) {\n    if (this.headerCalendar) {\n      this.headerCalendar.value = date;\n      this.headerCalendar.dataBind();\n    }\n  };\n\n  HeaderRenderer.prototype.setCalendarMinMaxDate = function () {\n    if (this.headerCalendar) {\n      this.headerCalendar.min = this.parent.minDate;\n      this.headerCalendar.max = this.parent.maxDate;\n      this.headerCalendar.dataBind();\n    }\n  };\n\n  HeaderRenderer.prototype.getCalendarView = function () {\n    if (['Month', 'MonthAgenda', 'TimelineMonth'].indexOf(this.parent.currentView) > -1) {\n      return 'Year';\n    } else if (['Year', 'TimelineYear'].indexOf(this.parent.currentView) > -1) {\n      return 'Decade';\n    } else {\n      return 'Month';\n    }\n  };\n\n  HeaderRenderer.prototype.setCalendarView = function () {\n    if (this.headerCalendar) {\n      var calendarView = this.getCalendarView();\n      this.headerCalendar.depth = calendarView;\n      this.headerCalendar.start = calendarView;\n      this.headerCalendar.refresh();\n    }\n  };\n\n  HeaderRenderer.prototype.updateActiveView = function () {\n    var selEle = [].slice.call(this.toolbarObj.element.querySelectorAll('.e-views'));\n    removeClass(selEle, ['e-active-view']);\n\n    if (selEle.length > 0 && selEle[this.parent.viewIndex]) {\n      addClass([selEle[this.parent.viewIndex]], ['e-active-view']);\n    }\n  };\n\n  HeaderRenderer.prototype.updateDateRange = function (text) {\n    var selEle = this.toolbarObj.element.querySelector('.e-date-range');\n\n    if (selEle) {\n      selEle.setAttribute('aria-label', text);\n      selEle.querySelector('.e-tbar-btn-text').innerHTML = text;\n      this.toolbarObj.refreshOverflow();\n    }\n  };\n\n  HeaderRenderer.prototype.getDateRangeText = function () {\n    return util.capitalizeFirstWord(this.parent.globalize.formatDate(this.parent.selectedDate, {\n      format: 'MMMM y',\n      calendar: this.parent.getCalendarMode()\n    }), 'single');\n  };\n\n  HeaderRenderer.prototype.getItems = function () {\n    var items = [];\n    var showInPopup = this.parent.isAdaptive;\n    items.push({\n      align: 'Left',\n      prefixIcon: 'e-icon-prev',\n      tooltipText: 'Previous',\n      overflow: 'Show',\n      cssClass: 'e-prev',\n      htmlAttributes: {\n        'aria-label': 'previous period',\n        'role': 'navigation'\n      }\n    });\n    items.push({\n      align: 'Left',\n      prefixIcon: 'e-icon-next',\n      tooltipText: 'Next',\n      overflow: 'Show',\n      cssClass: 'e-next',\n      htmlAttributes: {\n        'aria-label': 'next period',\n        'role': 'navigation'\n      }\n    });\n    items.push({\n      align: 'Left',\n      text: this.getDateRangeText(),\n      suffixIcon: 'e-icon-down-arrow',\n      cssClass: 'e-date-range',\n      overflow: 'Show',\n      htmlAttributes: {\n        'aria-atomic': 'true',\n        'aria-live': 'assertive',\n        'aria-label': 'title',\n        'role': 'navigation'\n      }\n    });\n\n    if (this.parent.isAdaptive) {\n      items.push({\n        align: 'Right',\n        showAlwaysInPopup: showInPopup,\n        prefixIcon: 'e-icon-add',\n        text: this.l10n.getConstant('newEvent'),\n        cssClass: 'e-add',\n        overflow: 'Show'\n      });\n      items.push({\n        align: 'Right',\n        showAlwaysInPopup: showInPopup,\n        prefixIcon: 'e-icon-today',\n        text: this.l10n.getConstant('today'),\n        cssClass: 'e-today',\n        overflow: 'Show'\n      });\n    } else {\n      items.push({\n        align: 'Right',\n        showAlwaysInPopup: showInPopup,\n        prefixIcon: 'e-icon-day',\n        text: this.l10n.getConstant('today'),\n        cssClass: 'e-today',\n        overflow: 'Show'\n      });\n\n      if (this.parent.views.length > 1) {\n        items.push({\n          align: 'Right',\n          type: 'Separator',\n          cssClass: 'e-schedule-seperator'\n        });\n      }\n    }\n\n    if (this.parent.views.length > 1) {\n      for (var _i = 0, _a = this.parent.views; _i < _a.length; _i++) {\n        var item = _a[_i];\n        typeof item === 'string' ? items.push(this.getItemObject(item)) : items.push(this.getItemObject(item));\n      }\n    }\n\n    return items;\n  };\n\n  HeaderRenderer.prototype.getItemObject = function (item) {\n    var viewName;\n    var displayName;\n\n    if (typeof item === 'string') {\n      viewName = item.toLowerCase();\n      displayName = null;\n    } else {\n      viewName = item.option.toLowerCase();\n      displayName = item.displayName;\n    }\n\n    var view;\n    var showInPopup = this.parent.isAdaptive;\n\n    switch (viewName) {\n      case 'day':\n        view = {\n          align: 'Right',\n          showAlwaysInPopup: showInPopup,\n          prefixIcon: 'e-icon-day',\n          text: displayName || this.l10n.getConstant('day'),\n          cssClass: 'e-views e-day'\n        };\n        break;\n\n      case 'week':\n        view = {\n          align: 'Right',\n          showAlwaysInPopup: showInPopup,\n          prefixIcon: 'e-icon-week',\n          text: displayName || this.l10n.getConstant('week'),\n          cssClass: 'e-views e-week'\n        };\n        break;\n\n      case 'workweek':\n        view = {\n          align: 'Right',\n          showAlwaysInPopup: showInPopup,\n          prefixIcon: 'e-icon-workweek',\n          text: displayName || this.l10n.getConstant('workWeek'),\n          cssClass: 'e-views e-work-week'\n        };\n        break;\n\n      case 'month':\n        view = {\n          align: 'Right',\n          showAlwaysInPopup: showInPopup,\n          prefixIcon: 'e-icon-month',\n          text: displayName || this.l10n.getConstant('month'),\n          cssClass: 'e-views e-month'\n        };\n        break;\n\n      case 'year':\n        view = {\n          align: 'Right',\n          showAlwaysInPopup: showInPopup,\n          prefixIcon: 'e-icon-year',\n          text: displayName || this.l10n.getConstant('year'),\n          cssClass: 'e-views e-year'\n        };\n        break;\n\n      case 'agenda':\n        view = {\n          align: 'Right',\n          showAlwaysInPopup: showInPopup,\n          prefixIcon: 'e-icon-agenda',\n          text: displayName || this.l10n.getConstant('agenda'),\n          cssClass: 'e-views e-agenda'\n        };\n        break;\n\n      case 'monthagenda':\n        view = {\n          align: 'Right',\n          showAlwaysInPopup: showInPopup,\n          prefixIcon: 'e-icon-month-agenda',\n          text: displayName || this.l10n.getConstant('monthAgenda'),\n          cssClass: 'e-views e-month-agenda'\n        };\n        break;\n\n      case 'timelineday':\n        view = {\n          align: 'Right',\n          showAlwaysInPopup: showInPopup,\n          prefixIcon: 'e-icon-timeline-day',\n          text: displayName || this.l10n.getConstant('timelineDay'),\n          cssClass: 'e-views e-timeline-day'\n        };\n        break;\n\n      case 'timelineweek':\n        view = {\n          align: 'Right',\n          showAlwaysInPopup: showInPopup,\n          prefixIcon: 'e-icon-timeline-week',\n          text: displayName || this.l10n.getConstant('timelineWeek'),\n          cssClass: 'e-views e-timeline-week'\n        };\n        break;\n\n      case 'timelineworkweek':\n        view = {\n          align: 'Right',\n          showAlwaysInPopup: showInPopup,\n          prefixIcon: 'e-icon-timeline-workweek',\n          text: displayName || this.l10n.getConstant('timelineWorkWeek'),\n          cssClass: 'e-views e-timeline-work-week'\n        };\n        break;\n\n      case 'timelinemonth':\n        view = {\n          align: 'Right',\n          showAlwaysInPopup: showInPopup,\n          prefixIcon: 'e-icon-timeline-month',\n          text: displayName || this.l10n.getConstant('timelineMonth'),\n          cssClass: 'e-views e-timeline-month'\n        };\n        break;\n\n      case 'timelineyear':\n        var orientationClass = item.orientation === 'Vertical' ? 'vertical' : 'horizontal';\n        view = {\n          align: 'Right',\n          showAlwaysInPopup: showInPopup,\n          prefixIcon: 'e-icon-timeline-year-' + orientationClass,\n          text: displayName || this.l10n.getConstant('timelineYear'),\n          cssClass: 'e-views e-timeline-year'\n        };\n        break;\n    }\n\n    return view;\n  };\n\n  HeaderRenderer.prototype.renderHeaderPopup = function () {\n    var headerPopupEle = createElement('div', {\n      className: cls.HEADER_POPUP_CLASS\n    });\n    var headerCalendarEle = createElement('div', {\n      className: cls.HEADER_CALENDAR_CLASS\n    });\n    headerPopupEle.appendChild(headerCalendarEle);\n    this.element.appendChild(headerPopupEle);\n    this.headerPopup = new Popup(headerPopupEle, {\n      actionOnScroll: 'hide',\n      targetType: 'relative',\n      relateTo: this.getPopUpRelativeElement(),\n      position: {\n        X: 'left',\n        Y: 'bottom'\n      },\n      enableRtl: this.parent.enableRtl\n    });\n    this.headerPopup.isStringTemplate = true;\n    var calendarView = this.getCalendarView();\n    this.headerCalendar = new Calendar({\n      value: this.parent.selectedDate,\n      min: this.parent.minDate,\n      max: this.parent.maxDate,\n      firstDayOfWeek: this.parent.activeViewOptions.firstDayOfWeek,\n      enableRtl: this.parent.enableRtl,\n      locale: this.parent.locale,\n      depth: calendarView,\n      start: calendarView,\n      calendarMode: this.parent.calendarMode,\n      change: this.calendarChange.bind(this),\n      navigated: this.updateTodayDate.bind(this)\n    });\n    this.headerCalendar.isStringTemplate = true;\n    this.headerCalendar.appendTo(headerCalendarEle);\n    this.updateTodayDate();\n    this.headerPopup.hide();\n  };\n\n  HeaderRenderer.prototype.updateTodayDate = function () {\n    if (this.parent.element.querySelector('.e-cell.e-today') // tslint:disable-next-line:no-any\n    && this.headerCalendar.todayDate.getDate() !== this.parent.activeCellsData.startTime.getDate()) {\n      var selectAppointments = [].slice.call(this.parent.element.querySelectorAll('.e-cell'));\n      selectAppointments = selectAppointments.filter(function (element) {\n        return !element.classList.contains('e-other-month');\n      });\n      var todayEle = this.parent.element.querySelector('.e-cell.e-today');\n      todayEle.classList.remove('e-today');\n      var timeZoneName = this.parent.timezone || this.parent.tzModule.getLocalTimezoneName();\n      var todayDate = this.parent.tzModule.convert(new Date(), this.parent.tzModule.getLocalTimezoneName(), timeZoneName);\n      addClass([selectAppointments[todayDate.getDate() - 1]], 'e-today');\n    }\n  };\n\n  HeaderRenderer.prototype.calendarChange = function (args) {\n    if (args.value.getTime() !== this.parent.selectedDate.getTime()) {\n      var calendarDate = util.resetTime(new Date(args.value));\n      this.parent.changeDate(this.parent.getCurrentTime(calendarDate));\n    }\n\n    this.updateTodayDate();\n    this.headerPopup.hide();\n  };\n\n  HeaderRenderer.prototype.calculateViewIndex = function (args) {\n    var target = closest(args.originalEvent.target, '.e-views');\n    var views = [].slice.call(this.element.querySelectorAll('.e-views'));\n    return views.indexOf(target);\n  };\n\n  HeaderRenderer.prototype.toolbarClickHandler = function (args) {\n    if (!args.item) {\n      return;\n    }\n\n    var strClass = args.item.cssClass.replace('e-views ', '');\n\n    switch (strClass) {\n      case 'e-date-range':\n        if (!this.headerPopup) {\n          this.renderHeaderPopup();\n        }\n\n        if (this.headerPopup.element.classList.contains(cls.POPUP_OPEN)) {\n          this.headerPopup.hide();\n        } else {\n          this.headerPopup.show();\n          this.updateTodayDate();\n        }\n\n        break;\n\n      case 'e-day':\n        this.parent.changeView('Day', args.originalEvent, undefined, this.calculateViewIndex(args));\n        break;\n\n      case 'e-week':\n        this.parent.changeView('Week', args.originalEvent, undefined, this.calculateViewIndex(args));\n        break;\n\n      case 'e-work-week':\n        this.parent.changeView('WorkWeek', args.originalEvent, undefined, this.calculateViewIndex(args));\n        break;\n\n      case 'e-month':\n        this.parent.changeView('Month', args.originalEvent, undefined, this.calculateViewIndex(args));\n        break;\n\n      case 'e-year':\n        this.parent.changeView('Year', args.originalEvent, undefined, this.calculateViewIndex(args));\n        break;\n\n      case 'e-agenda':\n        this.parent.changeView('Agenda', args.originalEvent, undefined, this.calculateViewIndex(args));\n        break;\n\n      case 'e-month-agenda':\n        this.parent.changeView('MonthAgenda', args.originalEvent, undefined, this.calculateViewIndex(args));\n        break;\n\n      case 'e-timeline-day':\n        this.parent.changeView('TimelineDay', args.originalEvent, undefined, this.calculateViewIndex(args));\n        break;\n\n      case 'e-timeline-week':\n        this.parent.changeView('TimelineWeek', args.originalEvent, undefined, this.calculateViewIndex(args));\n        break;\n\n      case 'e-timeline-work-week':\n        this.parent.changeView('TimelineWorkWeek', args.originalEvent, undefined, this.calculateViewIndex(args));\n        break;\n\n      case 'e-timeline-month':\n        this.parent.changeView('TimelineMonth', args.originalEvent, undefined, this.calculateViewIndex(args));\n        break;\n\n      case 'e-timeline-year':\n        this.parent.changeView('TimelineYear', args.originalEvent, undefined, this.calculateViewIndex(args));\n        break;\n\n      case 'e-today':\n        if (!this.parent.isSelectedDate(util.resetTime(this.parent.getCurrentTime()))) {\n          this.parent.changeDate(util.resetTime(this.parent.getCurrentTime()), args.originalEvent);\n        }\n\n        break;\n\n      case 'e-prev':\n        this.parent.changeDate(this.parent.activeView.getNextPreviousDate('previous'), args.originalEvent);\n        break;\n\n      case 'e-next':\n        this.parent.changeDate(this.parent.activeView.getNextPreviousDate('next'), args.originalEvent);\n        break;\n\n      case 'e-add':\n        var data = void 0;\n        var isSameTime = this.parent.activeCellsData.startTime.getTime() === this.parent.activeCellsData.endTime.getTime();\n\n        if (this.parent.activeCellsData && !isSameTime) {\n          data = this.parent.activeCellsData;\n        } else {\n          var interval = this.parent.activeViewOptions.timeScale.interval;\n          var slotCount = this.parent.activeViewOptions.timeScale.slotCount;\n          var msInterval = interval * util.MS_PER_MINUTE / slotCount;\n          var startTime = new Date(this.parent.selectedDate.getTime());\n          var currentTime = this.parent.getCurrentTime();\n          startTime.setHours(currentTime.getHours(), Math.round(startTime.getMinutes() / msInterval) * msInterval, 0);\n          var endTime = new Date(new Date(startTime.getTime()).setMilliseconds(startTime.getMilliseconds() + msInterval));\n          data = {\n            startTime: startTime,\n            endTime: endTime,\n            isAllDay: false\n          };\n        }\n\n        this.parent.eventWindow.openEditor(extend(data, {\n          cancel: false,\n          event: args.originalEvent\n        }), 'Add');\n        break;\n    }\n\n    if (isNullOrUndefined(this.toolbarObj)) {\n      return;\n    }\n\n    var toolbarPopUp = this.toolbarObj.element.querySelector('.e-toolbar-pop');\n\n    if (toolbarPopUp && args.item.type !== 'Input') {\n      toolbarPopUp.ej2_instances[0].hide({\n        name: 'SlideUp',\n        duration: 100\n      });\n    }\n  };\n\n  HeaderRenderer.prototype.getHeaderElement = function () {\n    return this.toolbarObj.element;\n  };\n\n  HeaderRenderer.prototype.updateHeaderItems = function (classType) {\n    var prevNavEle = this.toolbarObj.element.querySelector('.e-prev');\n    var nextNavEle = this.toolbarObj.element.querySelector('.e-next');\n    var dateRangeEle = this.toolbarObj.element.querySelector('.e-date-range');\n\n    if (prevNavEle) {\n      classType === 'add' ? addClass([prevNavEle], cls.HIDDEN_CLASS) : removeClass([prevNavEle], cls.HIDDEN_CLASS);\n    }\n\n    if (nextNavEle) {\n      classType === 'add' ? addClass([nextNavEle], cls.HIDDEN_CLASS) : removeClass([nextNavEle], cls.HIDDEN_CLASS);\n    }\n\n    if (dateRangeEle) {\n      classType === 'add' ? addClass([dateRangeEle], cls.TEXT_ELLIPSIS) : removeClass([dateRangeEle], cls.TEXT_ELLIPSIS);\n    }\n  };\n\n  HeaderRenderer.prototype.previousNextIconHandler = function () {\n    var dates = this.parent.currentView === 'Agenda' ? [this.parent.getCurrentViewDates()[0]] : this.parent.getCurrentViewDates();\n    var prevNavEle = this.toolbarObj.element.querySelector('.' + cls.PREVIOUS_DATE_CLASS);\n    var nextNavEle = this.toolbarObj.element.querySelector('.' + cls.NEXT_DATE_CLASS);\n    var firstDate = new Date(dates[0].getTime());\n    var lastDate = new Date(dates[dates.length - 1].getTime());\n\n    if (this.parent.currentView === 'WorkWeek' || this.parent.currentView === 'TimelineWorkWeek') {\n      firstDate = util.getWeekFirstDate(util.resetTime(this.parent.selectedDate), this.parent.firstDayOfWeek);\n      lastDate = util.addDays(firstDate, 7 * this.parent.activeViewOptions.interval);\n    }\n\n    if (this.parent.currentView === 'Month') {\n      firstDate = util.firstDateOfMonth(this.parent.selectedDate);\n      var lastMonthFirstDate = util.addMonths(firstDate, this.parent.activeViewOptions.interval - 1);\n      lastDate = util.lastDateOfMonth(lastMonthFirstDate);\n    }\n\n    if (!isNullOrUndefined(prevNavEle)) {\n      this.toolbarObj.enableItems(prevNavEle, firstDate > this.parent.minDate);\n    }\n\n    if (!isNullOrUndefined(nextNavEle)) {\n      this.toolbarObj.enableItems(nextNavEle, lastDate < this.parent.maxDate);\n    }\n\n    this.setCalendarMinMaxDate();\n  };\n  /**\r\n   * Get module name.\r\n   */\n\n\n  HeaderRenderer.prototype.getModuleName = function () {\n    return 'headerbar';\n  };\n  /**\r\n   * To destroy the headerbar.\r\n   * @return {void}\r\n   * @private\r\n   */\n\n\n  HeaderRenderer.prototype.destroy = function () {\n    if (this.headerPopup && !this.headerPopup.isDestroyed) {\n      this.headerPopup.destroy();\n      this.headerPopup = null;\n    }\n\n    if (this.headerCalendar && !this.headerCalendar.isDestroyed) {\n      this.headerCalendar.destroy();\n      this.headerCalendar = null;\n    }\n\n    if (this.toolbarObj && !this.toolbarObj.isDestroyed) {\n      this.toolbarObj.destroy();\n      this.removeEventListener();\n      remove(this.element);\n      this.toolbarObj = null;\n    }\n  };\n\n  return HeaderRenderer;\n}();\n\nexport { HeaderRenderer };","map":{"version":3,"sources":["C:/Users/User/volunteers/node_modules/@syncfusion/ej2-schedule/src/schedule/renderer/header-renderer.js"],"names":["isNullOrUndefined","createElement","remove","closest","addClass","removeClass","extend","Toolbar","Calendar","Popup","events","util","cls","HeaderRenderer","parent","l10n","localeObj","renderHeader","addEventListener","prototype","on","documentClick","closeHeaderPopup","removeEventListener","off","e","closestEle","event","target","hideHeaderPopup","headerPopup","hide","element","className","TOOLBAR_CONTAINER","toolbarEle","HEADER_TOOLBAR","appendChild","insertBefore","firstElementChild","renderToolbar","items","getItems","args","requestType","trigger","actionBegin","toolbarObj","overflowMode","clicked","toolbarClickHandler","bind","enableRtl","locale","isStringTemplate","appendTo","querySelector","prevNavEle","setAttribute","getConstant","nextNavEle","updateActiveView","actionComplete","updateItems","dataBind","getPopUpRelativeElement","isAdaptive","setDayOfWeek","index","headerCalendar","firstDayOfWeek","setCalendarDate","date","value","setCalendarMinMaxDate","min","minDate","max","maxDate","getCalendarView","indexOf","currentView","setCalendarView","calendarView","depth","start","refresh","selEle","slice","call","querySelectorAll","length","viewIndex","updateDateRange","text","innerHTML","refreshOverflow","getDateRangeText","capitalizeFirstWord","globalize","formatDate","selectedDate","format","calendar","getCalendarMode","showInPopup","push","align","prefixIcon","tooltipText","overflow","cssClass","htmlAttributes","suffixIcon","showAlwaysInPopup","views","type","_i","_a","item","getItemObject","viewName","displayName","toLowerCase","option","view","orientationClass","orientation","renderHeaderPopup","headerPopupEle","HEADER_POPUP_CLASS","headerCalendarEle","HEADER_CALENDAR_CLASS","actionOnScroll","targetType","relateTo","position","X","Y","activeViewOptions","calendarMode","change","calendarChange","navigated","updateTodayDate","todayDate","getDate","activeCellsData","startTime","selectAppointments","filter","classList","contains","todayEle","timeZoneName","timezone","tzModule","getLocalTimezoneName","convert","Date","getTime","calendarDate","resetTime","changeDate","getCurrentTime","calculateViewIndex","originalEvent","strClass","replace","POPUP_OPEN","show","changeView","undefined","isSelectedDate","activeView","getNextPreviousDate","data","isSameTime","endTime","interval","timeScale","slotCount","msInterval","MS_PER_MINUTE","currentTime","setHours","getHours","Math","round","getMinutes","setMilliseconds","getMilliseconds","isAllDay","eventWindow","openEditor","cancel","toolbarPopUp","ej2_instances","name","duration","getHeaderElement","updateHeaderItems","classType","dateRangeEle","HIDDEN_CLASS","TEXT_ELLIPSIS","previousNextIconHandler","dates","getCurrentViewDates","PREVIOUS_DATE_CLASS","NEXT_DATE_CLASS","firstDate","lastDate","getWeekFirstDate","addDays","firstDateOfMonth","lastMonthFirstDate","addMonths","lastDateOfMonth","enableItems","getModuleName","destroy","isDestroyed"],"mappings":"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","sourcesContent":["import { isNullOrUndefined, createElement, remove, closest, addClass, removeClass, extend } from '@syncfusion/ej2-base';\r\nimport { Toolbar } from '@syncfusion/ej2-navigations';\r\nimport { Calendar } from '@syncfusion/ej2-calendars';\r\nimport { Popup } from '@syncfusion/ej2-popups';\r\nimport * as events from '../base/constant';\r\nimport * as util from '../base/util';\r\nimport * as cls from '../base/css-constant';\r\n/**\r\n * Header module\r\n */\r\nvar HeaderRenderer = /** @class */ (function () {\r\n    /**\r\n     * Constructor for render module\r\n     */\r\n    function HeaderRenderer(parent) {\r\n        this.parent = parent;\r\n        this.l10n = this.parent.localeObj;\r\n        this.renderHeader();\r\n        this.addEventListener();\r\n    }\r\n    HeaderRenderer.prototype.addEventListener = function () {\r\n        this.parent.on(events.documentClick, this.closeHeaderPopup, this);\r\n    };\r\n    HeaderRenderer.prototype.removeEventListener = function () {\r\n        this.parent.off(events.documentClick, this.closeHeaderPopup);\r\n    };\r\n    HeaderRenderer.prototype.closeHeaderPopup = function (e) {\r\n        var closestEle = closest(e.event.target, '.e-date-range,.e-header-popup,.e-selected');\r\n        if (!isNullOrUndefined(closestEle)) {\r\n            return;\r\n        }\r\n        this.hideHeaderPopup();\r\n    };\r\n    /** @hidden */\r\n    HeaderRenderer.prototype.hideHeaderPopup = function () {\r\n        if (this.headerPopup) {\r\n            this.headerPopup.hide();\r\n        }\r\n    };\r\n    HeaderRenderer.prototype.renderHeader = function () {\r\n        this.element = createElement('div', { className: cls.TOOLBAR_CONTAINER });\r\n        var toolbarEle = createElement('div', { className: cls.HEADER_TOOLBAR });\r\n        this.element.appendChild(toolbarEle);\r\n        this.parent.element.insertBefore(this.element, this.parent.element.firstElementChild);\r\n        this.renderToolbar();\r\n    };\r\n    HeaderRenderer.prototype.renderToolbar = function () {\r\n        var items = this.getItems();\r\n        var args = { requestType: 'toolbarItemRendering', items: items };\r\n        this.parent.trigger(events.actionBegin, args);\r\n        this.toolbarObj = new Toolbar({\r\n            items: args.items,\r\n            overflowMode: 'Popup',\r\n            clicked: this.toolbarClickHandler.bind(this),\r\n            enableRtl: this.parent.enableRtl,\r\n            locale: this.parent.locale\r\n        });\r\n        this.toolbarObj.isStringTemplate = true;\r\n        this.toolbarObj.appendTo(this.parent.element.querySelector('.' + cls.HEADER_TOOLBAR));\r\n        var prevNavEle = this.toolbarObj.element.querySelector('.e-prev');\r\n        if (prevNavEle) {\r\n            prevNavEle.firstElementChild.setAttribute('title', this.l10n.getConstant('previous'));\r\n        }\r\n        var nextNavEle = this.toolbarObj.element.querySelector('.e-next');\r\n        if (nextNavEle) {\r\n            nextNavEle.firstElementChild.setAttribute('title', this.l10n.getConstant('next'));\r\n        }\r\n        this.updateActiveView();\r\n        this.parent.trigger(events.actionComplete, {\r\n            requestType: 'toolBarItemRendered', items: this.toolbarObj.items\r\n        });\r\n    };\r\n    HeaderRenderer.prototype.updateItems = function () {\r\n        if (this.toolbarObj) {\r\n            var items = this.getItems();\r\n            var args = { requestType: 'toolbarItemRendering', items: items };\r\n            this.parent.trigger(events.actionBegin, args);\r\n            this.toolbarObj.items = args.items;\r\n            this.toolbarObj.dataBind();\r\n            this.parent.trigger(events.actionComplete, {\r\n                requestType: 'toolBarItemRendered',\r\n                items: this.toolbarObj.items\r\n            });\r\n        }\r\n    };\r\n    HeaderRenderer.prototype.getPopUpRelativeElement = function () {\r\n        if (this.parent.isAdaptive) {\r\n            return this.toolbarObj.element;\r\n        }\r\n        return this.element.querySelector('.e-date-range');\r\n    };\r\n    HeaderRenderer.prototype.setDayOfWeek = function (index) {\r\n        if (this.headerCalendar) {\r\n            this.headerCalendar.firstDayOfWeek = index;\r\n            this.headerCalendar.dataBind();\r\n        }\r\n    };\r\n    HeaderRenderer.prototype.setCalendarDate = function (date) {\r\n        if (this.headerCalendar) {\r\n            this.headerCalendar.value = date;\r\n            this.headerCalendar.dataBind();\r\n        }\r\n    };\r\n    HeaderRenderer.prototype.setCalendarMinMaxDate = function () {\r\n        if (this.headerCalendar) {\r\n            this.headerCalendar.min = this.parent.minDate;\r\n            this.headerCalendar.max = this.parent.maxDate;\r\n            this.headerCalendar.dataBind();\r\n        }\r\n    };\r\n    HeaderRenderer.prototype.getCalendarView = function () {\r\n        if (['Month', 'MonthAgenda', 'TimelineMonth'].indexOf(this.parent.currentView) > -1) {\r\n            return 'Year';\r\n        }\r\n        else if (['Year', 'TimelineYear'].indexOf(this.parent.currentView) > -1) {\r\n            return 'Decade';\r\n        }\r\n        else {\r\n            return 'Month';\r\n        }\r\n    };\r\n    HeaderRenderer.prototype.setCalendarView = function () {\r\n        if (this.headerCalendar) {\r\n            var calendarView = this.getCalendarView();\r\n            this.headerCalendar.depth = calendarView;\r\n            this.headerCalendar.start = calendarView;\r\n            this.headerCalendar.refresh();\r\n        }\r\n    };\r\n    HeaderRenderer.prototype.updateActiveView = function () {\r\n        var selEle = [].slice.call(this.toolbarObj.element.querySelectorAll('.e-views'));\r\n        removeClass(selEle, ['e-active-view']);\r\n        if (selEle.length > 0 && selEle[this.parent.viewIndex]) {\r\n            addClass([selEle[this.parent.viewIndex]], ['e-active-view']);\r\n        }\r\n    };\r\n    HeaderRenderer.prototype.updateDateRange = function (text) {\r\n        var selEle = this.toolbarObj.element.querySelector('.e-date-range');\r\n        if (selEle) {\r\n            selEle.setAttribute('aria-label', text);\r\n            selEle.querySelector('.e-tbar-btn-text').innerHTML = text;\r\n            this.toolbarObj.refreshOverflow();\r\n        }\r\n    };\r\n    HeaderRenderer.prototype.getDateRangeText = function () {\r\n        return util.capitalizeFirstWord(this.parent.globalize.formatDate(this.parent.selectedDate, { format: 'MMMM y', calendar: this.parent.getCalendarMode() }), 'single');\r\n    };\r\n    HeaderRenderer.prototype.getItems = function () {\r\n        var items = [];\r\n        var showInPopup = this.parent.isAdaptive;\r\n        items.push({\r\n            align: 'Left', prefixIcon: 'e-icon-prev', tooltipText: 'Previous', overflow: 'Show',\r\n            cssClass: 'e-prev', htmlAttributes: { 'aria-label': 'previous period', 'role': 'navigation' }\r\n        });\r\n        items.push({\r\n            align: 'Left', prefixIcon: 'e-icon-next', tooltipText: 'Next', overflow: 'Show',\r\n            cssClass: 'e-next', htmlAttributes: { 'aria-label': 'next period', 'role': 'navigation' }\r\n        });\r\n        items.push({\r\n            align: 'Left', text: this.getDateRangeText(), suffixIcon: 'e-icon-down-arrow', cssClass: 'e-date-range',\r\n            overflow: 'Show',\r\n            htmlAttributes: { 'aria-atomic': 'true', 'aria-live': 'assertive', 'aria-label': 'title', 'role': 'navigation' }\r\n        });\r\n        if (this.parent.isAdaptive) {\r\n            items.push({\r\n                align: 'Right', showAlwaysInPopup: showInPopup, prefixIcon: 'e-icon-add', text: this.l10n.getConstant('newEvent'),\r\n                cssClass: 'e-add', overflow: 'Show'\r\n            });\r\n            items.push({\r\n                align: 'Right', showAlwaysInPopup: showInPopup, prefixIcon: 'e-icon-today', text: this.l10n.getConstant('today'),\r\n                cssClass: 'e-today', overflow: 'Show'\r\n            });\r\n        }\r\n        else {\r\n            items.push({\r\n                align: 'Right', showAlwaysInPopup: showInPopup, prefixIcon: 'e-icon-day', text: this.l10n.getConstant('today'),\r\n                cssClass: 'e-today', overflow: 'Show'\r\n            });\r\n            if (this.parent.views.length > 1) {\r\n                items.push({\r\n                    align: 'Right', type: 'Separator', cssClass: 'e-schedule-seperator'\r\n                });\r\n            }\r\n        }\r\n        if (this.parent.views.length > 1) {\r\n            for (var _i = 0, _a = this.parent.views; _i < _a.length; _i++) {\r\n                var item = _a[_i];\r\n                typeof (item) === 'string' ? items.push(this.getItemObject(item)) :\r\n                    items.push(this.getItemObject(item));\r\n            }\r\n        }\r\n        return items;\r\n    };\r\n    HeaderRenderer.prototype.getItemObject = function (item) {\r\n        var viewName;\r\n        var displayName;\r\n        if (typeof (item) === 'string') {\r\n            viewName = item.toLowerCase();\r\n            displayName = null;\r\n        }\r\n        else {\r\n            viewName = item.option.toLowerCase();\r\n            displayName = item.displayName;\r\n        }\r\n        var view;\r\n        var showInPopup = this.parent.isAdaptive;\r\n        switch (viewName) {\r\n            case 'day':\r\n                view = {\r\n                    align: 'Right', showAlwaysInPopup: showInPopup, prefixIcon: 'e-icon-day',\r\n                    text: displayName || this.l10n.getConstant('day'), cssClass: 'e-views e-day'\r\n                };\r\n                break;\r\n            case 'week':\r\n                view = {\r\n                    align: 'Right', showAlwaysInPopup: showInPopup, prefixIcon: 'e-icon-week',\r\n                    text: displayName || this.l10n.getConstant('week'), cssClass: 'e-views e-week'\r\n                };\r\n                break;\r\n            case 'workweek':\r\n                view = {\r\n                    align: 'Right', showAlwaysInPopup: showInPopup, prefixIcon: 'e-icon-workweek',\r\n                    text: displayName || this.l10n.getConstant('workWeek'), cssClass: 'e-views e-work-week'\r\n                };\r\n                break;\r\n            case 'month':\r\n                view = {\r\n                    align: 'Right', showAlwaysInPopup: showInPopup, prefixIcon: 'e-icon-month',\r\n                    text: displayName || this.l10n.getConstant('month'), cssClass: 'e-views e-month'\r\n                };\r\n                break;\r\n            case 'year':\r\n                view = {\r\n                    align: 'Right', showAlwaysInPopup: showInPopup, prefixIcon: 'e-icon-year',\r\n                    text: displayName || this.l10n.getConstant('year'), cssClass: 'e-views e-year'\r\n                };\r\n                break;\r\n            case 'agenda':\r\n                view = {\r\n                    align: 'Right', showAlwaysInPopup: showInPopup, prefixIcon: 'e-icon-agenda',\r\n                    text: displayName || this.l10n.getConstant('agenda'), cssClass: 'e-views e-agenda'\r\n                };\r\n                break;\r\n            case 'monthagenda':\r\n                view = {\r\n                    align: 'Right', showAlwaysInPopup: showInPopup, prefixIcon: 'e-icon-month-agenda',\r\n                    text: displayName || this.l10n.getConstant('monthAgenda'), cssClass: 'e-views e-month-agenda'\r\n                };\r\n                break;\r\n            case 'timelineday':\r\n                view = {\r\n                    align: 'Right', showAlwaysInPopup: showInPopup, prefixIcon: 'e-icon-timeline-day',\r\n                    text: displayName || this.l10n.getConstant('timelineDay'), cssClass: 'e-views e-timeline-day'\r\n                };\r\n                break;\r\n            case 'timelineweek':\r\n                view = {\r\n                    align: 'Right', showAlwaysInPopup: showInPopup, prefixIcon: 'e-icon-timeline-week',\r\n                    text: displayName || this.l10n.getConstant('timelineWeek'), cssClass: 'e-views e-timeline-week'\r\n                };\r\n                break;\r\n            case 'timelineworkweek':\r\n                view = {\r\n                    align: 'Right', showAlwaysInPopup: showInPopup, prefixIcon: 'e-icon-timeline-workweek',\r\n                    text: displayName || this.l10n.getConstant('timelineWorkWeek'), cssClass: 'e-views e-timeline-work-week'\r\n                };\r\n                break;\r\n            case 'timelinemonth':\r\n                view = {\r\n                    align: 'Right', showAlwaysInPopup: showInPopup, prefixIcon: 'e-icon-timeline-month',\r\n                    text: displayName || this.l10n.getConstant('timelineMonth'), cssClass: 'e-views e-timeline-month'\r\n                };\r\n                break;\r\n            case 'timelineyear':\r\n                var orientationClass = (item.orientation === 'Vertical') ? 'vertical' : 'horizontal';\r\n                view = {\r\n                    align: 'Right', showAlwaysInPopup: showInPopup, prefixIcon: 'e-icon-timeline-year-' + orientationClass,\r\n                    text: displayName || this.l10n.getConstant('timelineYear'), cssClass: 'e-views e-timeline-year'\r\n                };\r\n                break;\r\n        }\r\n        return view;\r\n    };\r\n    HeaderRenderer.prototype.renderHeaderPopup = function () {\r\n        var headerPopupEle = createElement('div', { className: cls.HEADER_POPUP_CLASS });\r\n        var headerCalendarEle = createElement('div', { className: cls.HEADER_CALENDAR_CLASS });\r\n        headerPopupEle.appendChild(headerCalendarEle);\r\n        this.element.appendChild(headerPopupEle);\r\n        this.headerPopup = new Popup(headerPopupEle, {\r\n            actionOnScroll: 'hide',\r\n            targetType: 'relative',\r\n            relateTo: this.getPopUpRelativeElement(),\r\n            position: { X: 'left', Y: 'bottom' },\r\n            enableRtl: this.parent.enableRtl\r\n        });\r\n        this.headerPopup.isStringTemplate = true;\r\n        var calendarView = this.getCalendarView();\r\n        this.headerCalendar = new Calendar({\r\n            value: this.parent.selectedDate,\r\n            min: this.parent.minDate,\r\n            max: this.parent.maxDate,\r\n            firstDayOfWeek: this.parent.activeViewOptions.firstDayOfWeek,\r\n            enableRtl: this.parent.enableRtl,\r\n            locale: this.parent.locale,\r\n            depth: calendarView,\r\n            start: calendarView,\r\n            calendarMode: this.parent.calendarMode,\r\n            change: this.calendarChange.bind(this),\r\n            navigated: this.updateTodayDate.bind(this)\r\n        });\r\n        this.headerCalendar.isStringTemplate = true;\r\n        this.headerCalendar.appendTo(headerCalendarEle);\r\n        this.updateTodayDate();\r\n        this.headerPopup.hide();\r\n    };\r\n    HeaderRenderer.prototype.updateTodayDate = function () {\r\n        if (this.parent.element.querySelector('.e-cell.e-today')\r\n            // tslint:disable-next-line:no-any\r\n            && (this.headerCalendar.todayDate.getDate() !== this.parent.activeCellsData.startTime.getDate())) {\r\n            var selectAppointments = [].slice.call(this.parent.element.querySelectorAll('.e-cell'));\r\n            selectAppointments = selectAppointments.filter(function (element) {\r\n                return (!element.classList.contains('e-other-month'));\r\n            });\r\n            var todayEle = this.parent.element.querySelector('.e-cell.e-today');\r\n            todayEle.classList.remove('e-today');\r\n            var timeZoneName = this.parent.timezone || this.parent.tzModule.getLocalTimezoneName();\r\n            var todayDate = this.parent.tzModule.convert(new Date(), this.parent.tzModule.getLocalTimezoneName(), timeZoneName);\r\n            addClass([selectAppointments[todayDate.getDate() - 1]], 'e-today');\r\n        }\r\n    };\r\n    HeaderRenderer.prototype.calendarChange = function (args) {\r\n        if (args.value.getTime() !== this.parent.selectedDate.getTime()) {\r\n            var calendarDate = util.resetTime(new Date(args.value));\r\n            this.parent.changeDate(this.parent.getCurrentTime(calendarDate));\r\n        }\r\n        this.updateTodayDate();\r\n        this.headerPopup.hide();\r\n    };\r\n    HeaderRenderer.prototype.calculateViewIndex = function (args) {\r\n        var target = closest(args.originalEvent.target, '.e-views');\r\n        var views = [].slice.call(this.element.querySelectorAll('.e-views'));\r\n        return views.indexOf(target);\r\n    };\r\n    HeaderRenderer.prototype.toolbarClickHandler = function (args) {\r\n        if (!args.item) {\r\n            return;\r\n        }\r\n        var strClass = args.item.cssClass.replace('e-views ', '');\r\n        switch (strClass) {\r\n            case 'e-date-range':\r\n                if (!this.headerPopup) {\r\n                    this.renderHeaderPopup();\r\n                }\r\n                if (this.headerPopup.element.classList.contains(cls.POPUP_OPEN)) {\r\n                    this.headerPopup.hide();\r\n                }\r\n                else {\r\n                    this.headerPopup.show();\r\n                    this.updateTodayDate();\r\n                }\r\n                break;\r\n            case 'e-day':\r\n                this.parent.changeView('Day', args.originalEvent, undefined, this.calculateViewIndex(args));\r\n                break;\r\n            case 'e-week':\r\n                this.parent.changeView('Week', args.originalEvent, undefined, this.calculateViewIndex(args));\r\n                break;\r\n            case 'e-work-week':\r\n                this.parent.changeView('WorkWeek', args.originalEvent, undefined, this.calculateViewIndex(args));\r\n                break;\r\n            case 'e-month':\r\n                this.parent.changeView('Month', args.originalEvent, undefined, this.calculateViewIndex(args));\r\n                break;\r\n            case 'e-year':\r\n                this.parent.changeView('Year', args.originalEvent, undefined, this.calculateViewIndex(args));\r\n                break;\r\n            case 'e-agenda':\r\n                this.parent.changeView('Agenda', args.originalEvent, undefined, this.calculateViewIndex(args));\r\n                break;\r\n            case 'e-month-agenda':\r\n                this.parent.changeView('MonthAgenda', args.originalEvent, undefined, this.calculateViewIndex(args));\r\n                break;\r\n            case 'e-timeline-day':\r\n                this.parent.changeView('TimelineDay', args.originalEvent, undefined, this.calculateViewIndex(args));\r\n                break;\r\n            case 'e-timeline-week':\r\n                this.parent.changeView('TimelineWeek', args.originalEvent, undefined, this.calculateViewIndex(args));\r\n                break;\r\n            case 'e-timeline-work-week':\r\n                this.parent.changeView('TimelineWorkWeek', args.originalEvent, undefined, this.calculateViewIndex(args));\r\n                break;\r\n            case 'e-timeline-month':\r\n                this.parent.changeView('TimelineMonth', args.originalEvent, undefined, this.calculateViewIndex(args));\r\n                break;\r\n            case 'e-timeline-year':\r\n                this.parent.changeView('TimelineYear', args.originalEvent, undefined, this.calculateViewIndex(args));\r\n                break;\r\n            case 'e-today':\r\n                if (!this.parent.isSelectedDate(util.resetTime(this.parent.getCurrentTime()))) {\r\n                    this.parent.changeDate(util.resetTime(this.parent.getCurrentTime()), args.originalEvent);\r\n                }\r\n                break;\r\n            case 'e-prev':\r\n                this.parent.changeDate(this.parent.activeView.getNextPreviousDate('previous'), args.originalEvent);\r\n                break;\r\n            case 'e-next':\r\n                this.parent.changeDate(this.parent.activeView.getNextPreviousDate('next'), args.originalEvent);\r\n                break;\r\n            case 'e-add':\r\n                var data = void 0;\r\n                var isSameTime = this.parent.activeCellsData.startTime.getTime() === this.parent.activeCellsData.endTime.getTime();\r\n                if (this.parent.activeCellsData && !isSameTime) {\r\n                    data = this.parent.activeCellsData;\r\n                }\r\n                else {\r\n                    var interval = this.parent.activeViewOptions.timeScale.interval;\r\n                    var slotCount = this.parent.activeViewOptions.timeScale.slotCount;\r\n                    var msInterval = (interval * util.MS_PER_MINUTE) / slotCount;\r\n                    var startTime = new Date(this.parent.selectedDate.getTime());\r\n                    var currentTime = this.parent.getCurrentTime();\r\n                    startTime.\r\n                        setHours(currentTime.getHours(), (Math.round(startTime.getMinutes() / msInterval) * msInterval), 0);\r\n                    var endTime = new Date(new Date(startTime.getTime()).setMilliseconds(startTime.getMilliseconds() + msInterval));\r\n                    data = { startTime: startTime, endTime: endTime, isAllDay: false };\r\n                }\r\n                this.parent.eventWindow.openEditor(extend(data, { cancel: false, event: args.originalEvent }), 'Add');\r\n                break;\r\n        }\r\n        if (isNullOrUndefined(this.toolbarObj)) {\r\n            return;\r\n        }\r\n        var toolbarPopUp = this.toolbarObj.element.querySelector('.e-toolbar-pop');\r\n        if (toolbarPopUp && args.item.type !== 'Input') {\r\n            toolbarPopUp.ej2_instances[0].hide({ name: 'SlideUp', duration: 100 });\r\n        }\r\n    };\r\n    HeaderRenderer.prototype.getHeaderElement = function () {\r\n        return this.toolbarObj.element;\r\n    };\r\n    HeaderRenderer.prototype.updateHeaderItems = function (classType) {\r\n        var prevNavEle = this.toolbarObj.element.querySelector('.e-prev');\r\n        var nextNavEle = this.toolbarObj.element.querySelector('.e-next');\r\n        var dateRangeEle = this.toolbarObj.element.querySelector('.e-date-range');\r\n        if (prevNavEle) {\r\n            (classType === 'add') ? addClass([prevNavEle], cls.HIDDEN_CLASS) : removeClass([prevNavEle], cls.HIDDEN_CLASS);\r\n        }\r\n        if (nextNavEle) {\r\n            (classType === 'add') ? addClass([nextNavEle], cls.HIDDEN_CLASS) : removeClass([nextNavEle], cls.HIDDEN_CLASS);\r\n        }\r\n        if (dateRangeEle) {\r\n            (classType === 'add') ? addClass([dateRangeEle], cls.TEXT_ELLIPSIS) : removeClass([dateRangeEle], cls.TEXT_ELLIPSIS);\r\n        }\r\n    };\r\n    HeaderRenderer.prototype.previousNextIconHandler = function () {\r\n        var dates = (this.parent.currentView === 'Agenda' ?\r\n            [this.parent.getCurrentViewDates()[0]] : this.parent.getCurrentViewDates());\r\n        var prevNavEle = this.toolbarObj.element.querySelector('.' + cls.PREVIOUS_DATE_CLASS);\r\n        var nextNavEle = this.toolbarObj.element.querySelector('.' + cls.NEXT_DATE_CLASS);\r\n        var firstDate = new Date(dates[0].getTime());\r\n        var lastDate = new Date(dates[dates.length - 1].getTime());\r\n        if (this.parent.currentView === 'WorkWeek' || this.parent.currentView === 'TimelineWorkWeek') {\r\n            firstDate = util.getWeekFirstDate(util.resetTime(this.parent.selectedDate), this.parent.firstDayOfWeek);\r\n            lastDate = util.addDays(firstDate, 7 * this.parent.activeViewOptions.interval);\r\n        }\r\n        if (this.parent.currentView === 'Month') {\r\n            firstDate = util.firstDateOfMonth(this.parent.selectedDate);\r\n            var lastMonthFirstDate = util.addMonths(firstDate, this.parent.activeViewOptions.interval - 1);\r\n            lastDate = util.lastDateOfMonth(lastMonthFirstDate);\r\n        }\r\n        if (!isNullOrUndefined(prevNavEle)) {\r\n            this.toolbarObj.enableItems(prevNavEle, firstDate > this.parent.minDate);\r\n        }\r\n        if (!isNullOrUndefined(nextNavEle)) {\r\n            this.toolbarObj.enableItems(nextNavEle, lastDate < this.parent.maxDate);\r\n        }\r\n        this.setCalendarMinMaxDate();\r\n    };\r\n    /**\r\n     * Get module name.\r\n     */\r\n    HeaderRenderer.prototype.getModuleName = function () {\r\n        return 'headerbar';\r\n    };\r\n    /**\r\n     * To destroy the headerbar.\r\n     * @return {void}\r\n     * @private\r\n     */\r\n    HeaderRenderer.prototype.destroy = function () {\r\n        if (this.headerPopup && !this.headerPopup.isDestroyed) {\r\n            this.headerPopup.destroy();\r\n            this.headerPopup = null;\r\n        }\r\n        if (this.headerCalendar && !this.headerCalendar.isDestroyed) {\r\n            this.headerCalendar.destroy();\r\n            this.headerCalendar = null;\r\n        }\r\n        if (this.toolbarObj && !this.toolbarObj.isDestroyed) {\r\n            this.toolbarObj.destroy();\r\n            this.removeEventListener();\r\n            remove(this.element);\r\n            this.toolbarObj = null;\r\n        }\r\n    };\r\n    return HeaderRenderer;\r\n}());\r\nexport { HeaderRenderer };\r\n"]},"metadata":{},"sourceType":"module"}