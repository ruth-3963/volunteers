{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n\nimport { Component, EventHandler, addClass, append, Property, Event, L10n, compile } from '@syncfusion/ej2-base';\nimport { setStyleAttribute, extend, removeClass, prepend, isNullOrUndefined, detach, getValue } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges, rippleEffect, ChildProperty, Complex } from '@syncfusion/ej2-base';\nimport { DataManager, Query, DataUtil } from '@syncfusion/ej2-data';\nimport { ListBase } from '@syncfusion/ej2-lists';\nimport { updateBlazorTemplate, resetBlazorTemplate, isBlazor, remove, select } from '@syncfusion/ej2-base';\n\nvar FieldSettings =\n/** @class */\nfunction (_super) {\n  __extends(FieldSettings, _super);\n\n  function FieldSettings() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  __decorate([Property()], FieldSettings.prototype, \"text\", void 0);\n\n  __decorate([Property()], FieldSettings.prototype, \"value\", void 0);\n\n  __decorate([Property()], FieldSettings.prototype, \"iconCss\", void 0);\n\n  __decorate([Property()], FieldSettings.prototype, \"groupBy\", void 0);\n\n  __decorate([Property()], FieldSettings.prototype, \"htmlAttributes\", void 0);\n\n  return FieldSettings;\n}(ChildProperty);\n\nexport { FieldSettings };\nexport var dropDownBaseClasses = {\n  root: 'e-dropdownbase',\n  rtl: 'e-rtl',\n  content: 'e-content',\n  selected: 'e-active',\n  hover: 'e-hover',\n  noData: 'e-nodata',\n  fixedHead: 'e-fixed-head',\n  focus: 'e-item-focus',\n  li: 'e-list-item',\n  group: 'e-list-group-item',\n  disabled: 'e-disabled',\n  grouping: 'e-dd-group'\n};\nvar ITEMTEMPLATE_PROPERTY = 'ItemTemplate';\nvar VALUETEMPLATE_PROPERTY = 'ValueTemplate';\nvar GROUPTEMPLATE_PROPERTY = 'GroupTemplate';\nvar HEADERTEMPLATE_PROPERTY = 'HeaderTemplate';\nvar FOOTERTEMPLATE_PROPERTY = 'FooterTemplate';\nvar NORECORDSTEMPLATE_PROPERTY = 'NoRecordsTemplate';\nvar ACTIONFAILURETEMPLATE_PROPERTY = 'ActionFailureTemplate';\n/**\r\n * DropDownBase component will generate the list items based on given data and act as base class to drop-down related components\r\n */\n\nvar DropDownBase =\n/** @class */\nfunction (_super) {\n  __extends(DropDownBase, _super);\n  /**\r\n   * * Constructor for DropDownBase class\r\n   */\n\n\n  function DropDownBase(options, element) {\n    var _this = _super.call(this, options, element) || this;\n\n    _this.preventChange = false;\n    _this.isAngular = false;\n    _this.isPreventChange = false;\n    return _this;\n  }\n\n  ;\n\n  DropDownBase.prototype.getPropObject = function (prop, newProp, oldProp) {\n    var newProperty = new Object();\n    var oldProperty = new Object(); // tslint:disable-next-line:no-function-constructor-with-string-args\n\n    var propName = function (prop) {\n      return prop;\n    };\n\n    newProperty[propName(prop)] = newProp[propName(prop)];\n    oldProperty[propName(prop)] = oldProp[propName(prop)];\n    var data = new Object();\n    data.newProperty = newProperty;\n    data.oldProperty = oldProperty;\n    return data;\n  };\n\n  DropDownBase.prototype.getValueByText = function (text, ignoreCase, ignoreAccent) {\n    var value = null;\n\n    if (!isNullOrUndefined(this.listData)) {\n      if (ignoreCase) {\n        value = this.checkValueCase(text, true, ignoreAccent);\n      } else {\n        value = this.checkValueCase(text, false, ignoreAccent);\n      }\n    }\n\n    return value;\n  };\n\n  ;\n\n  DropDownBase.prototype.checkValueCase = function (text, ignoreCase, ignoreAccent, isTextByValue) {\n    var _this = this;\n\n    var value = null;\n\n    if (isTextByValue) {\n      value = text;\n    }\n\n    var dataSource = this.listData;\n    var fields = this.fields;\n    var type = this.typeOfData(dataSource).typeof;\n\n    if (type === 'string' || type === 'number' || type === 'boolean') {\n      for (var _i = 0, dataSource_1 = dataSource; _i < dataSource_1.length; _i++) {\n        var item = dataSource_1[_i];\n\n        if (!isNullOrUndefined(item)) {\n          if (ignoreAccent) {\n            value = this.checkingAccent(String(item), text, ignoreCase);\n          } else {\n            if (ignoreCase) {\n              if (this.checkIgnoreCase(String(item), text)) {\n                value = this.getItemValue(String(item), text, ignoreCase);\n              }\n            } else {\n              if (this.checkNonIgnoreCase(String(item), text)) {\n                value = this.getItemValue(String(item), text, ignoreCase, isTextByValue);\n              }\n            }\n          }\n        }\n      }\n    } else {\n      if (ignoreCase) {\n        dataSource.filter(function (item) {\n          var itemValue = getValue(fields.value, item);\n\n          if (!isNullOrUndefined(itemValue) && _this.checkIgnoreCase(getValue(fields.text, item).toString(), text)) {\n            value = getValue(fields.value, item);\n          }\n        });\n      } else {\n        if (isTextByValue) {\n          dataSource.filter(function (item) {\n            var itemValue = getValue(fields.value, item);\n\n            if (!isNullOrUndefined(itemValue) && !isNullOrUndefined(value) && itemValue.toString() === value.toString()) {\n              value = getValue(fields.text, item);\n            }\n          });\n        } else {\n          dataSource.filter(function (item) {\n            if (_this.checkNonIgnoreCase(getValue(fields.text, item), text)) {\n              value = getValue(fields.value, item);\n            }\n          });\n        }\n      }\n    }\n\n    return value;\n  };\n\n  DropDownBase.prototype.checkingAccent = function (item, text, ignoreCase) {\n    var dataItem = DataUtil.ignoreDiacritics(String(item));\n    var textItem = DataUtil.ignoreDiacritics(text.toString());\n    var value = null;\n\n    if (ignoreCase) {\n      if (this.checkIgnoreCase(dataItem, textItem)) {\n        value = this.getItemValue(String(item), text, ignoreCase);\n      }\n    } else {\n      if (this.checkNonIgnoreCase(String(item), text)) {\n        value = this.getItemValue(String(item), text, ignoreCase);\n      }\n    }\n\n    return value;\n  };\n\n  DropDownBase.prototype.checkIgnoreCase = function (item, text) {\n    return String(item).toLowerCase() === text.toString().toLowerCase() ? true : false;\n  };\n\n  DropDownBase.prototype.checkNonIgnoreCase = function (item, text) {\n    return String(item) === text.toString() ? true : false;\n  };\n\n  DropDownBase.prototype.getItemValue = function (dataItem, typedText, ignoreCase, isTextByValue) {\n    var value = null;\n    var dataSource = this.listData;\n    var type = this.typeOfData(dataSource).typeof;\n\n    if (isTextByValue) {\n      value = dataItem.toString();\n    } else {\n      if (ignoreCase) {\n        value = type === 'string' ? String(dataItem) : this.getFormattedValue(String(dataItem));\n      } else {\n        value = type === 'string' ? typedText : this.getFormattedValue(typedText);\n      }\n    }\n\n    return value;\n  };\n\n  DropDownBase.prototype.templateCompiler = function (baseTemplate) {\n    var checkTemplate = false;\n\n    if (baseTemplate) {\n      var exception = void 0;\n\n      try {\n        checkTemplate = select(baseTemplate, document).length ? true : false;\n      } catch (exception) {\n        checkTemplate = false;\n      }\n    }\n\n    return checkTemplate;\n  };\n\n  DropDownBase.prototype.l10nUpdate = function (actionFailure) {\n    var ele = this.getModuleName() === 'listbox' ? this.ulElement : this.list;\n\n    if (this.noRecordsTemplate !== 'No records found' || this.actionFailureTemplate !== 'Request failed') {\n      this.DropDownBaseresetBlazorTemplates(false, false, true, true);\n      var template = actionFailure ? this.actionFailureTemplate : this.noRecordsTemplate;\n      var compiledString = void 0;\n      var templateId = actionFailure ? this.actionFailureTemplateId : this.noRecordsTemplateId;\n      ele.innerHTML = '';\n      var tempaltecheck = this.templateCompiler(template);\n\n      if (tempaltecheck) {\n        compiledString = compile(select(template, document).innerHTML.trim());\n      } else {\n        compiledString = compile(template);\n      }\n\n      var templateName = actionFailure ? 'actionFailureTemplate' : 'noRecordsTemplate'; // tslint:disable-next-line\n\n      var noDataCompTemp = compiledString({}, this, templateName, templateId, this.isStringTemplate, null, ele);\n\n      if (noDataCompTemp && noDataCompTemp.length > 0) {\n        for (var i = 0; i < noDataCompTemp.length; i++) {\n          ele.appendChild(noDataCompTemp[i]);\n        }\n      }\n\n      this.DropDownBaseupdateBlazorTemplates(false, false, !actionFailure, actionFailure, false, false, false, false);\n    } else {\n      var l10nLocale = {\n        noRecordsTemplate: 'No records found',\n        actionFailureTemplate: 'Request failed'\n      };\n      var componentLocale = new L10n(this.getLocaleName(), {}, this.locale);\n\n      if (componentLocale.getConstant('actionFailureTemplate') !== '') {\n        this.l10n = componentLocale;\n      } else {\n        this.l10n = new L10n(this.getModuleName() === 'listbox' ? 'listbox' : 'dropdowns', l10nLocale, this.locale);\n      }\n\n      var content = actionFailure ? this.l10n.getConstant('actionFailureTemplate') : this.l10n.getConstant('noRecordsTemplate');\n\n      if (this.getModuleName() === 'listbox') {\n        var liElem = this.createElement('li');\n        liElem.textContent = content;\n        ele.appendChild(liElem);\n        liElem.classList.add('e-list-nrt');\n      } else {\n        ele.innerHTML = content;\n      }\n    }\n  };\n\n  DropDownBase.prototype.getLocaleName = function () {\n    return 'drop-down-base';\n  };\n\n  ;\n\n  DropDownBase.prototype.getTextByValue = function (value) {\n    var text;\n    text = this.checkValueCase(value, false, false, true);\n    return text;\n  };\n\n  DropDownBase.prototype.getFormattedValue = function (value) {\n    if (this.listData && this.listData.length) {\n      var item = this.typeOfData(this.listData);\n\n      if (isBlazor() && isNullOrUndefined(value) || value === 'null') {\n        return null;\n      }\n\n      if (typeof getValue(this.fields.value ? this.fields.value : 'value', item.item) === 'number' || item.typeof === 'number') {\n        return parseFloat(value);\n      }\n\n      if (typeof getValue(this.fields.value ? this.fields.value : 'value', item.item) === 'boolean' || item.typeof === 'boolean') {\n        return value === 'true';\n      }\n    }\n\n    return value;\n  };\n  /**\r\n   * Sets RTL to dropdownbase wrapper\r\n   */\n\n\n  DropDownBase.prototype.setEnableRtl = function () {\n    if (this.list) {\n      this.enableRtlElements.push(this.list);\n    }\n\n    this.enableRtl ? addClass(this.enableRtlElements, dropDownBaseClasses.rtl) : removeClass(this.enableRtlElements, dropDownBaseClasses.rtl);\n  };\n\n  ;\n  /**\r\n   * Initialize the Component.\r\n   */\n\n  DropDownBase.prototype.initialize = function () {\n    this.bindEvent = true;\n    this.actionFailureTemplateId = \"\" + this.element.id + ACTIONFAILURETEMPLATE_PROPERTY;\n\n    if (this.element.tagName === 'UL') {\n      var jsonElement = ListBase.createJsonFromElement(this.element);\n      this.setProperties({\n        fields: {\n          text: 'text',\n          value: 'text'\n        }\n      }, true);\n      this.resetList(jsonElement, this.fields);\n    } else if (this.element.tagName === 'SELECT') {\n      var dataSource = this.dataSource instanceof Array ? this.dataSource.length > 0 ? true : false : !isNullOrUndefined(this.dataSource) ? true : false;\n\n      if (!dataSource) {\n        this.renderItemsBySelect();\n      }\n    } else {\n      this.setListData(this.dataSource, this.fields, this.query);\n    }\n  };\n\n  ;\n\n  DropDownBase.prototype.DropDownBaseupdateBlazorTemplates = function (item, group, noRecord, action, value, header, footer, isEmpty) {\n    if (!this.isStringTemplate) {\n      if (this.itemTemplate && item) {\n        updateBlazorTemplate(this.itemTemplateId, ITEMTEMPLATE_PROPERTY, this, isEmpty);\n      }\n\n      if (this.groupTemplate && group) {\n        updateBlazorTemplate(this.groupTemplateId, GROUPTEMPLATE_PROPERTY, this, isEmpty);\n      }\n\n      if (this.noRecordsTemplate && noRecord) {\n        updateBlazorTemplate(this.noRecordsTemplateId, NORECORDSTEMPLATE_PROPERTY, this, isEmpty);\n      }\n\n      if (this.actionFailureTemplate && action) {\n        updateBlazorTemplate(this.actionFailureTemplateId, ACTIONFAILURETEMPLATE_PROPERTY, this, isEmpty);\n      }\n\n      if (value) {\n        updateBlazorTemplate(this.valueTemplateId, VALUETEMPLATE_PROPERTY, this, isEmpty);\n      }\n\n      if (header) {\n        updateBlazorTemplate(this.headerTemplateId, HEADERTEMPLATE_PROPERTY, this);\n      }\n\n      if (footer) {\n        updateBlazorTemplate(this.footerTemplateId, FOOTERTEMPLATE_PROPERTY, this);\n      }\n    }\n  };\n\n  DropDownBase.prototype.DropDownBaseresetBlazorTemplates = function (item, group, noRecord, action, value, header, footer) {\n    if (!this.isStringTemplate) {\n      if (this.itemTemplate && item) {\n        resetBlazorTemplate(this.itemTemplateId, ITEMTEMPLATE_PROPERTY);\n      }\n\n      if (this.groupTemplate && group) {\n        resetBlazorTemplate(this.groupTemplateId, GROUPTEMPLATE_PROPERTY);\n      }\n\n      if (this.noRecordsTemplate && noRecord) {\n        resetBlazorTemplate(this.noRecordsTemplateId, NORECORDSTEMPLATE_PROPERTY);\n      }\n\n      if (this.actionFailureTemplate && action) {\n        resetBlazorTemplate(this.actionFailureTemplateId, ACTIONFAILURETEMPLATE_PROPERTY);\n      }\n\n      if (value) {\n        resetBlazorTemplate(this.valueTemplateId, VALUETEMPLATE_PROPERTY);\n      }\n\n      if (header) {\n        resetBlazorTemplate(this.headerTemplateId, HEADERTEMPLATE_PROPERTY);\n      }\n\n      if (footer) {\n        resetBlazorTemplate(this.footerTemplateId, FOOTERTEMPLATE_PROPERTY);\n      }\n    }\n  };\n  /**\r\n   * Get the properties to be maintained in persisted state.\r\n   */\n\n\n  DropDownBase.prototype.getPersistData = function () {\n    return this.addOnPersist([]);\n  };\n\n  ;\n  /**\r\n   * Sets the enabled state to DropDownBase.\r\n   */\n\n  DropDownBase.prototype.setEnabled = function () {\n    this.element.setAttribute('aria-disabled', this.enabled ? 'false' : 'true');\n  };\n\n  ;\n  /**\r\n   * Sets the enabled state to DropDownBase.\r\n   */\n\n  DropDownBase.prototype.updateDataAttribute = function (value) {\n    var invalidAttr = ['class', 'style', 'id', 'type'];\n    var attr = {};\n\n    for (var a = 0; a < this.element.attributes.length; a++) {\n      if (invalidAttr.indexOf(this.element.attributes[a].name) === -1 && !(this.getModuleName() === 'dropdownlist' && this.element.attributes[a].name === 'readonly')) {\n        attr[this.element.attributes[a].name] = this.element.getAttribute(this.element.attributes[a].name);\n      }\n    }\n\n    extend(attr, value, attr);\n    this.setProperties({\n      htmlAttributes: attr\n    }, true);\n  };\n\n  DropDownBase.prototype.renderItemsBySelect = function () {\n    var element = this.element;\n    var fields = {\n      value: 'value',\n      text: 'text'\n    };\n    var jsonElement = [];\n    var group = element.querySelectorAll('select>optgroup');\n    var option = element.querySelectorAll('select>option');\n    this.getJSONfromOption(jsonElement, option, fields);\n\n    if (group.length) {\n      for (var i = 0; i < group.length; i++) {\n        var item = group[i];\n        var optionGroup = {};\n        optionGroup[fields.text] = item.label;\n        optionGroup.isHeader = true;\n        var child = item.querySelectorAll('option');\n        jsonElement.push(optionGroup);\n        this.getJSONfromOption(jsonElement, child, fields);\n      }\n\n      var items = element.querySelectorAll('select>option');\n    }\n\n    this.fields.text = fields.text;\n    this.fields.value = fields.value;\n    this.resetList(jsonElement, fields);\n  };\n\n  DropDownBase.prototype.getJSONfromOption = function (items, options, fields) {\n    for (var _i = 0, options_1 = options; _i < options_1.length; _i++) {\n      var option = options_1[_i];\n      var json = {};\n      json[fields.text] = option.innerText;\n      json[fields.value] = !isNullOrUndefined(option.getAttribute(fields.value)) ? option.getAttribute(fields.value) : option.innerText;\n      items.push(json);\n    }\n  };\n  /**\r\n   * Execute before render the list items\r\n   * @private\r\n   */\n\n\n  DropDownBase.prototype.preRender = function () {\n    // there is no event handler\n    this.scrollTimer = -1;\n    this.enableRtlElements = [];\n    this.isRequested = false;\n    this.isDataFetched = false;\n    this.itemTemplateId = \"\" + this.element.id + ITEMTEMPLATE_PROPERTY;\n    this.valueTemplateId = \"\" + this.element.id + VALUETEMPLATE_PROPERTY;\n    this.groupTemplateId = \"\" + this.element.id + GROUPTEMPLATE_PROPERTY;\n    this.headerTemplateId = \"\" + this.element.id + HEADERTEMPLATE_PROPERTY;\n    this.footerTemplateId = \"\" + this.element.id + FOOTERTEMPLATE_PROPERTY;\n    this.noRecordsTemplateId = \"\" + this.element.id + NORECORDSTEMPLATE_PROPERTY;\n  };\n  /**\r\n   * Creates the list items of DropDownBase component.\r\n   */\n\n\n  DropDownBase.prototype.setListData = function (dataSource, fields, query) {\n    var _this = this;\n\n    fields = fields ? fields : this.fields;\n    var ulElement;\n    this.isActive = true;\n    var eventArgs = {\n      cancel: false,\n      data: dataSource,\n      query: query\n    };\n    this.isPreventChange = this.isAngular && this.preventChange ? true : this.isPreventChange;\n    this.trigger('actionBegin', eventArgs, function (eventArgs) {\n      if (!eventArgs.cancel) {\n        _this.showSpinner();\n\n        if (dataSource instanceof DataManager) {\n          _this.isRequested = true;\n\n          if (_this.isDataFetched) {\n            _this.emptyDataRequest(fields);\n\n            return;\n          }\n\n          eventArgs.data.executeQuery(_this.getQuery(eventArgs.query)).then(function (e) {\n            _this.isPreventChange = _this.isAngular && _this.preventChange ? true : _this.isPreventChange;\n\n            _this.trigger('actionComplete', e, function (e) {\n              if (!e.cancel) {\n                var listItems = e.result;\n\n                if (listItems.length === 0) {\n                  _this.isDataFetched = true;\n                }\n\n                ulElement = _this.renderItems(listItems, fields);\n\n                _this.onActionComplete(ulElement, listItems, e);\n\n                if (_this.groupTemplate) {\n                  _this.renderGroupTemplate(ulElement);\n                }\n\n                _this.isRequested = false;\n\n                _this.bindChildItems(listItems, ulElement, fields, e);\n              }\n            });\n          }).catch(function (e) {\n            _this.isRequested = false;\n\n            _this.onActionFailure(e);\n\n            _this.hideSpinner();\n          });\n        } else {\n          var dataManager = new DataManager(eventArgs.data);\n\n          var listItems = _this.getQuery(eventArgs.query).executeLocal(dataManager);\n\n          var localDataArgs = {\n            cancel: false,\n            result: listItems\n          };\n          _this.isPreventChange = _this.isAngular && _this.preventChange ? true : _this.isPreventChange;\n\n          _this.trigger('actionComplete', localDataArgs, function (localDataArgs) {\n            if (!localDataArgs.cancel) {\n              ulElement = _this.renderItems(localDataArgs.result, fields);\n\n              _this.onActionComplete(ulElement, localDataArgs.result);\n\n              if (_this.groupTemplate) {\n                _this.renderGroupTemplate(ulElement);\n              }\n\n              _this.bindChildItems(localDataArgs.result, ulElement, fields);\n            }\n          });\n        }\n      }\n    });\n  };\n\n  DropDownBase.prototype.bindChildItems = function (listItems, ulElement, fields, e) {\n    var _this = this;\n\n    if (listItems.length >= 100 && this.getModuleName() === 'autocomplete') {\n      setTimeout(function () {\n        var childNode = _this.remainingItems(_this.sortedData, fields);\n\n        append(childNode, ulElement);\n\n        _this.DropDownBaseupdateBlazorTemplates(true, false, false, false);\n\n        _this.liCollections = _this.list.querySelectorAll('.' + dropDownBaseClasses.li);\n\n        _this.updateListValues();\n\n        _this.raiseDataBound(listItems, e);\n      }, 0);\n    } else {\n      this.raiseDataBound(listItems, e);\n    }\n  };\n\n  DropDownBase.prototype.updateListValues = function () {// Used this method in component side.\n  };\n\n  DropDownBase.prototype.findListElement = function (list, findNode, attribute, value) {\n    var liElement = null;\n\n    if (list) {\n      var listArr = [].slice.call(list.querySelectorAll(findNode));\n\n      for (var index = 0; index < listArr.length; index++) {\n        if (listArr[index].getAttribute(attribute) === value + '') {\n          liElement = listArr[index];\n          break;\n        }\n      }\n    }\n\n    return liElement;\n  };\n\n  DropDownBase.prototype.raiseDataBound = function (listItems, e) {\n    this.hideSpinner();\n    var dataBoundEventArgs = {\n      items: listItems,\n      e: e\n    };\n    this.trigger('dataBound', dataBoundEventArgs);\n  };\n\n  DropDownBase.prototype.remainingItems = function (dataSource, fields) {\n    var spliceData = new DataManager(dataSource).executeLocal(new Query().skip(100));\n\n    if (this.itemTemplate) {\n      var listElements = this.templateListItem(spliceData, fields);\n      return [].slice.call(listElements.childNodes);\n    }\n\n    var type = this.typeOfData(spliceData).typeof;\n\n    if (type === 'string' || type === 'number' || type === 'boolean') {\n      return ListBase.createListItemFromArray(this.createElement, spliceData, true, this.listOption(spliceData, fields), this);\n    }\n\n    return ListBase.createListItemFromJson(this.createElement, spliceData, this.listOption(spliceData, fields), 1, true, this);\n  };\n\n  DropDownBase.prototype.emptyDataRequest = function (fields) {\n    var listItems = [];\n    this.onActionComplete(this.renderItems(listItems, fields), listItems);\n    this.isRequested = false;\n    this.hideSpinner();\n  };\n\n  DropDownBase.prototype.showSpinner = function () {// Used this method in component side.\n  };\n\n  DropDownBase.prototype.hideSpinner = function () {// Used this method in component side.\n  };\n\n  DropDownBase.prototype.onActionFailure = function (e) {\n    this.liCollections = [];\n    this.trigger('actionFailure', e);\n    this.l10nUpdate(true);\n    addClass([this.list], dropDownBaseClasses.noData);\n  };\n\n  DropDownBase.prototype.onActionComplete = function (ulElement, list, e) {\n    this.listData = list;\n\n    if (isBlazor() && this.isServerRendered && this.getModuleName() === 'listbox') {\n      remove(this.list.querySelector('.e-list-parent'));\n      remove(this.list.querySelector('.e-hidden-select'));\n    } else {\n      // tslint:disable-next-line         \n      if (this.isReact) {\n        this.clearTemplate(['itemTemplate', 'groupTemplate', 'actionFailureTemplate', 'noRecordsTemplate']);\n      }\n\n      this.list.innerHTML = '';\n    }\n\n    this.fixedHeaderElement = isNullOrUndefined(this.fixedHeaderElement) ? this.fixedHeaderElement : null;\n    this.list.appendChild(ulElement);\n    this.liCollections = this.list.querySelectorAll('.' + dropDownBaseClasses.li);\n    this.ulElement = this.list.querySelector('ul');\n    this.postRender(this.list, list, this.bindEvent);\n  };\n\n  DropDownBase.prototype.postRender = function (listElement, list, bindEvent) {\n    var focusItem = listElement.querySelector('.' + dropDownBaseClasses.li);\n    var selectedItem = listElement.querySelector('.' + dropDownBaseClasses.selected);\n\n    if (focusItem && !selectedItem) {\n      focusItem.classList.add(dropDownBaseClasses.focus);\n    }\n\n    if (list.length <= 0) {\n      this.l10nUpdate();\n      addClass([listElement], dropDownBaseClasses.noData);\n    } else {\n      listElement.classList.remove(dropDownBaseClasses.noData);\n    }\n  };\n  /**\r\n   * Get the query to do the data operation before list item generation.\r\n   */\n\n\n  DropDownBase.prototype.getQuery = function (query) {\n    return query ? query : this.query ? this.query : new Query();\n  };\n  /**\r\n   * To render the template content for group header element.\r\n   */\n\n\n  DropDownBase.prototype.renderGroupTemplate = function (listEle) {\n    if (this.fields.groupBy !== null && this.dataSource || this.element.querySelector('.' + dropDownBaseClasses.group)) {\n      var dataSource = this.dataSource;\n      var option = {\n        groupTemplateID: this.groupTemplateId,\n        isStringTemplate: this.isStringTemplate\n      };\n      var headerItems = listEle.querySelectorAll('.' + dropDownBaseClasses.group);\n      var groupcheck = this.templateCompiler(this.groupTemplate);\n\n      if (groupcheck) {\n        var groupValue = select(this.groupTemplate, document).innerHTML.trim();\n        var tempHeaders = ListBase.renderGroupTemplate(groupValue, dataSource, this.fields.properties, headerItems, option, this);\n      } else {\n        var tempHeaders = ListBase.renderGroupTemplate(this.groupTemplate, dataSource, this.fields.properties, headerItems, option, this);\n      }\n\n      this.DropDownBaseupdateBlazorTemplates(false, true, false, false, false, false, false, false);\n    }\n  };\n  /**\r\n   * To create the ul li list items\r\n   */\n\n\n  DropDownBase.prototype.createListItems = function (dataSource, fields) {\n    if (dataSource && fields.groupBy || this.element.querySelector('optgroup')) {\n      if (fields.groupBy) {\n        if (this.sortOrder !== 'None') {\n          dataSource = this.getSortedDataSource(dataSource);\n        }\n\n        dataSource = ListBase.groupDataSource(dataSource, fields.properties, this.sortOrder);\n      }\n\n      addClass([this.list], dropDownBaseClasses.grouping);\n    } else {\n      dataSource = this.getSortedDataSource(dataSource);\n    }\n\n    var options = this.listOption(dataSource, fields);\n    var spliceData = dataSource.length > 100 ? new DataManager(dataSource).executeLocal(new Query().take(100)) : dataSource;\n    this.sortedData = dataSource;\n    return ListBase.createList(this.createElement, this.getModuleName() === 'autocomplete' ? spliceData : dataSource, options, true, this);\n  };\n\n  ;\n\n  DropDownBase.prototype.listOption = function (dataSource, fields) {\n    var iconCss = isNullOrUndefined(fields.iconCss) ? false : true;\n    var fieldValues = !isNullOrUndefined(fields.properties) ? fields.properties : fields;\n    var options = fields.text !== null || fields.value !== null ? {\n      fields: fieldValues,\n      showIcon: iconCss,\n      ariaAttributes: {\n        groupItemRole: 'presentation'\n      }\n    } : {\n      fields: {\n        value: 'text'\n      }\n    };\n    return extend({}, options, fields, true);\n  };\n\n  ;\n\n  DropDownBase.prototype.setFloatingHeader = function (e) {\n    if (isNullOrUndefined(this.fixedHeaderElement)) {\n      this.fixedHeaderElement = this.createElement('div', {\n        className: dropDownBaseClasses.fixedHead\n      });\n\n      if (!this.list.querySelector('li').classList.contains(dropDownBaseClasses.group)) {\n        this.fixedHeaderElement.style.display = 'none';\n      }\n\n      prepend([this.fixedHeaderElement], this.list);\n      this.setFixedHeader();\n    }\n\n    if (!isNullOrUndefined(this.fixedHeaderElement) && this.fixedHeaderElement.style.zIndex === '0') {\n      this.setFixedHeader();\n    }\n\n    this.scrollStop(e);\n  };\n\n  DropDownBase.prototype.scrollStop = function (e) {\n    var target = e.target;\n    var liHeight = parseInt(getComputedStyle(this.liCollections[0], null).getPropertyValue('height'), 10);\n    var topIndex = Math.round(target.scrollTop / liHeight);\n    var liCollections = this.list.querySelectorAll('li');\n\n    for (var i = topIndex; i > -1; i--) {\n      if (!isNullOrUndefined(liCollections[i]) && liCollections[i].classList.contains(dropDownBaseClasses.group)) {\n        var currentLi = liCollections[i];\n        this.fixedHeaderElement.innerHTML = currentLi.innerHTML;\n        this.fixedHeaderElement.style.top = e.target.scrollTop + 'px';\n        this.fixedHeaderElement.style.display = 'block';\n        break;\n      } else {\n        this.fixedHeaderElement.style.display = 'none';\n        this.fixedHeaderElement.style.top = 'none';\n      }\n    }\n  };\n  /**\r\n   * To render the list items\r\n   */\n\n\n  DropDownBase.prototype.renderItems = function (listData, fields) {\n    var ulElement;\n\n    if (this.itemTemplate && listData) {\n      var dataSource = listData;\n\n      if (dataSource && fields.groupBy) {\n        if (this.sortOrder !== 'None') {\n          dataSource = this.getSortedDataSource(dataSource);\n        }\n\n        dataSource = ListBase.groupDataSource(dataSource, fields.properties, this.sortOrder);\n      } else {\n        dataSource = this.getSortedDataSource(dataSource);\n      }\n\n      this.sortedData = dataSource;\n      var spliceData = dataSource.length > 100 ? new DataManager(dataSource).executeLocal(new Query().take(100)) : dataSource;\n      ulElement = this.templateListItem(this.getModuleName() === 'autocomplete' ? spliceData : dataSource, fields);\n      var isTempEmpty = this.getModuleName() === 'listbox' ? true : false;\n      this.DropDownBaseupdateBlazorTemplates(true, false, false, false, false, false, false, isTempEmpty);\n    } else {\n      ulElement = this.createListItems(listData, fields);\n    }\n\n    return ulElement;\n  };\n\n  ;\n\n  DropDownBase.prototype.templateListItem = function (dataSource, fields) {\n    this.DropDownBaseresetBlazorTemplates(true, false, false, false);\n    var option = this.listOption(dataSource, fields);\n    option.templateID = this.itemTemplateId;\n    option.isStringTemplate = this.isStringTemplate;\n    var itemcheck = this.templateCompiler(this.itemTemplate);\n\n    if (itemcheck) {\n      var itemValue = select(this.itemTemplate, document).innerHTML.trim();\n      return ListBase.renderContentTemplate(this.createElement, itemValue, dataSource, fields.properties, option, this);\n    } else {\n      return ListBase.renderContentTemplate(this.createElement, this.itemTemplate, dataSource, fields.properties, option, this);\n    }\n  };\n\n  ;\n\n  DropDownBase.prototype.typeOfData = function (items) {\n    var item = {\n      typeof: null,\n      item: null\n    };\n\n    for (var i = 0; !isNullOrUndefined(items) && i < items.length; i++) {\n      if (!isNullOrUndefined(items[i])) {\n        var listDataType = typeof items[i] === 'string' || typeof items[i] === 'number' || typeof items[i] === 'boolean';\n        var isNullData = listDataType ? isNullOrUndefined(items[i]) : isNullOrUndefined(getValue(this.fields.value ? this.fields.value : 'value', items[i]));\n\n        if (!isNullData) {\n          return item = {\n            typeof: typeof items[i],\n            item: items[i]\n          };\n        }\n      }\n    }\n\n    return item;\n  };\n\n  DropDownBase.prototype.setFixedHeader = function () {\n    this.list.parentElement.style.display = 'block';\n    var borderWidth = 0;\n\n    if (this.list && this.list.parentElement) {\n      borderWidth = parseInt(document.defaultView.getComputedStyle(this.list.parentElement, null).getPropertyValue('border-width'), 10);\n    }\n\n    var liWidth = this.liCollections[0].offsetWidth - borderWidth;\n    this.fixedHeaderElement.style.width = liWidth.toString() + 'px';\n    setStyleAttribute(this.fixedHeaderElement, {\n      zIndex: 10\n    });\n    var firstLi = this.ulElement.querySelector('.' + dropDownBaseClasses.group);\n    this.fixedHeaderElement.innerHTML = firstLi.innerHTML;\n  };\n\n  DropDownBase.prototype.getSortedDataSource = function (dataSource) {\n    if (dataSource && this.sortOrder !== 'None') {\n      var textField = this.fields.text ? this.fields.text : 'text';\n\n      if (this.typeOfData(dataSource).typeof === 'string' || this.typeOfData(dataSource).typeof === 'number' || this.typeOfData(dataSource).typeof === 'boolean') {\n        textField = '';\n      }\n\n      dataSource = ListBase.getDataSource(dataSource, ListBase.addSorting(this.sortOrder, textField));\n    }\n\n    return dataSource;\n  };\n  /**\r\n   * Return the index of item which matched with given value in data source\r\n   */\n\n\n  DropDownBase.prototype.getIndexByValue = function (value) {\n    var index;\n    var listItems = this.getItems();\n\n    for (var i = 0; i < listItems.length; i++) {\n      if (!isNullOrUndefined(value) && listItems[i].getAttribute('data-value') === value.toString()) {\n        index = i;\n        break;\n      }\n    }\n\n    return index;\n  };\n\n  ;\n  /**\r\n   * To dispatch the event manually\r\n   */\n\n  DropDownBase.prototype.dispatchEvent = function (element, type) {\n    var evt = document.createEvent('HTMLEvents');\n    evt.initEvent(type, false, true);\n    element.dispatchEvent(evt);\n  };\n  /**\r\n   * To set the current fields\r\n   */\n\n\n  DropDownBase.prototype.setFields = function () {\n    if (this.fields.value && !this.fields.text) {\n      this.fields.text = this.fields.value;\n    } else if (!this.fields.value && this.fields.text) {\n      this.fields.value = this.fields.text;\n    } else if (!this.fields.value && !this.fields.text) {\n      this.fields.value = this.fields.text = 'text';\n    }\n  };\n  /**\r\n   * reset the items list.\r\n   */\n\n\n  DropDownBase.prototype.resetList = function (dataSource, fields, query) {\n    if (this.list) {\n      if (this.element.tagName === 'SELECT' && this.element.options.length > 0 || this.element.tagName === 'UL' && this.element.childNodes.length > 0) {\n        var data = dataSource instanceof Array ? dataSource.length > 0 : !isNullOrUndefined(dataSource);\n\n        if (!data && this.selectData && this.selectData.length > 0) {\n          dataSource = this.selectData;\n        }\n      }\n\n      this.setListData(dataSource, fields, query);\n    }\n  };\n\n  DropDownBase.prototype.updateSelectElementData = function (isFiltering) {\n    if (isFiltering && isNullOrUndefined(this.selectData) && this.listData && this.listData.length > 0) {\n      this.selectData = this.listData;\n    }\n  };\n\n  DropDownBase.prototype.updateSelection = function () {// This is for after added the item, need to update the selected index values.\n  };\n\n  DropDownBase.prototype.renderList = function () {\n    // This is for render the list items.\n    this.render();\n  };\n\n  DropDownBase.prototype.updateDataSource = function (props) {\n    this.resetList(this.dataSource);\n  };\n\n  DropDownBase.prototype.setUpdateInitial = function (props, newProp) {\n    this.isDataFetched = false;\n    var updateData = {};\n\n    for (var j = 0; props.length > j; j++) {\n      if (newProp[props[j]] && props[j] === 'fields') {\n        this.setFields();\n      } else if (newProp[props[j]]) {\n        updateData[props[j]] = newProp[props[j]];\n      }\n    }\n\n    if (Object.keys(updateData).length > 0) {\n      if (Object.keys(updateData).indexOf('dataSource') === -1) {\n        updateData.dataSource = this.dataSource;\n      }\n\n      this.updateDataSource(updateData);\n    }\n  };\n  /**\r\n   * When property value changes happened, then onPropertyChanged method will execute the respective changes in this component.\r\n   * @private\r\n   */\n\n\n  DropDownBase.prototype.onPropertyChanged = function (newProp, oldProp) {\n    if (this.getModuleName() === 'dropdownbase') {\n      this.setUpdateInitial(['fields', 'query', 'dataSource'], newProp);\n    }\n\n    this.setUpdateInitial(['sortOrder', 'itemTemplate'], newProp);\n\n    for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n      var prop = _a[_i];\n\n      switch (prop) {\n        case 'query':\n        case 'sortOrder':\n        case 'dataSource':\n        case 'itemTemplate':\n          break;\n\n        case 'enableRtl':\n          this.setEnableRtl();\n          break;\n\n        case 'enabled':\n          this.setEnabled();\n          break;\n\n        case 'groupTemplate':\n          this.renderGroupTemplate(this.list);\n\n          if (this.ulElement && this.fixedHeaderElement) {\n            var firstLi = this.ulElement.querySelector('.' + dropDownBaseClasses.group);\n            this.fixedHeaderElement.innerHTML = firstLi.innerHTML;\n          }\n\n          break;\n\n        case 'locale':\n          if (this.list && !isNullOrUndefined(this.liCollections) && this.liCollections.length === 0) {\n            this.l10nUpdate();\n          }\n\n          break;\n\n        case 'zIndex':\n          this.setProperties({\n            zIndex: newProp.zIndex\n          }, true);\n          this.setZIndex();\n          break;\n      }\n    }\n  };\n\n  ;\n  /**\r\n   * Build and render the component\r\n   * @private\r\n   */\n\n  DropDownBase.prototype.render = function (isEmptyData) {\n    this.list = this.createElement('div', {\n      className: dropDownBaseClasses.content,\n      attrs: {\n        'tabindex': '0'\n      }\n    });\n    this.list.classList.add(dropDownBaseClasses.root);\n    this.setFields();\n    var rippleModel = {\n      duration: 300,\n      selector: '.' + dropDownBaseClasses.li\n    };\n    this.rippleFun = rippleEffect(this.list, rippleModel);\n    var group = this.element.querySelector('select>optgroup');\n\n    if ((this.fields.groupBy || !isNullOrUndefined(group)) && !this.isGroupChecking) {\n      EventHandler.add(this.list, 'scroll', this.setFloatingHeader, this);\n    }\n\n    if (this.getModuleName() === 'dropdownbase') {\n      if (this.element.getAttribute('tabindex')) {\n        this.list.setAttribute('tabindex', this.element.getAttribute('tabindex'));\n      }\n\n      removeClass([this.element], dropDownBaseClasses.root);\n      this.element.style.display = 'none';\n      var wrapperElement = this.createElement('div');\n      this.element.parentElement.insertBefore(wrapperElement, this.element);\n      wrapperElement.appendChild(this.element);\n      wrapperElement.appendChild(this.list);\n    }\n\n    this.setEnableRtl();\n    this.setEnabled();\n\n    if (!isEmptyData) {\n      this.initialize();\n    }\n  };\n\n  ;\n  /**\r\n   * Return the module name of this component.\r\n   * @private\r\n   */\n\n  DropDownBase.prototype.getModuleName = function () {\n    return 'dropdownbase';\n  };\n\n  ;\n  /**\r\n   * Gets all the list items bound on this component.\r\n   * @returns Element[].\r\n   */\n\n  DropDownBase.prototype.getItems = function () {\n    return this.ulElement.querySelectorAll('.' + dropDownBaseClasses.li);\n  };\n\n  ;\n  /**\r\n   * Adds a new item to the popup list. By default, new item appends to the list as the last item,\r\n   * but you can insert based on the index parameter.\r\n   * @param  { Object[] } items - Specifies an array of JSON data or a JSON data.\r\n   * @param { number } itemIndex - Specifies the index to place the newly added item in the popup list.\r\n   * @return {void}.\r\n     */\n\n  DropDownBase.prototype.addItem = function (items, itemIndex) {\n    if (!this.list || this.list.textContent === this.noRecordsTemplate && this.getModuleName() !== 'listbox') {\n      this.renderList();\n    }\n\n    if (this.sortOrder !== 'None' && isNullOrUndefined(itemIndex)) {\n      var newList = [].slice.call(this.listData);\n      newList.push(items);\n      newList = this.getSortedDataSource(newList);\n\n      if (this.fields.groupBy) {\n        newList = ListBase.groupDataSource(newList, this.fields.properties, this.sortOrder);\n        itemIndex = newList.indexOf(items);\n      } else {\n        itemIndex = newList.indexOf(items);\n      }\n    }\n\n    this.DropDownBaseresetBlazorTemplates(true, false, false, false);\n    var itemsCount = this.getItems().length;\n    var selectedItemValue = this.list.querySelector('.' + dropDownBaseClasses.selected);\n    items = items instanceof Array ? items : [items];\n    var index;\n    index = isNullOrUndefined(itemIndex) || itemIndex < 0 || itemIndex > itemsCount - 1 ? itemsCount : itemIndex;\n    var fields = this.fields;\n\n    if (items && fields.groupBy) {\n      items = ListBase.groupDataSource(items, fields.properties);\n    }\n\n    var liCollections = [];\n\n    for (var i = 0; i < items.length; i++) {\n      var item = items[i];\n      var isHeader = item.isHeader;\n      var li = this.createElement('li', {\n        className: isHeader ? dropDownBaseClasses.group : dropDownBaseClasses.li,\n        id: 'option-add-' + i\n      });\n      var itemText = item instanceof Object ? getValue(fields.text, item) : item;\n\n      if (isHeader) {\n        li.innerText = itemText;\n      }\n\n      if (this.itemTemplate && !isHeader) {\n        var compiledString = compile(this.itemTemplate); // tslint:disable-next-line\n\n        var addItemTemplate = compiledString(item, this, 'itemTemplate', this.itemTemplateId, this.isStringTemplate, null, li);\n\n        if (addItemTemplate) {\n          append(addItemTemplate, li);\n        }\n\n        this.DropDownBaseupdateBlazorTemplates(true, false, false, false);\n      } else if (!isHeader) {\n        li.appendChild(document.createTextNode(itemText));\n      }\n\n      li.setAttribute('data-value', item instanceof Object ? getValue(fields.value, item) : item);\n      li.setAttribute('role', 'option');\n      this.notify('addItem', {\n        module: 'CheckBoxSelection',\n        item: li\n      });\n      liCollections.push(li);\n      this.listData.push(item);\n\n      if (this.sortOrder === 'None' && isNullOrUndefined(itemIndex) && index === 0) {\n        index = null;\n      }\n\n      this.updateActionCompleteData(li, item, index); //Listbox event\n\n      this.trigger('beforeItemRender', {\n        element: li,\n        item: item\n      });\n    }\n\n    if (itemsCount === 0 && isNullOrUndefined(this.list.querySelector('ul'))) {\n      this.list.innerHTML = '';\n      this.list.classList.remove(dropDownBaseClasses.noData);\n      this.list.appendChild(this.ulElement);\n      this.liCollections = liCollections;\n      append(liCollections, this.ulElement);\n      this.updateAddItemList(this.list, itemsCount);\n    } else {\n      if (this.getModuleName() === 'listbox' && itemsCount === 0) {\n        this.ulElement.innerHTML = '';\n      }\n\n      var attr = [];\n\n      for (var i = 0; i < items.length; i++) {\n        var listGroupItem = this.ulElement.querySelectorAll('.e-list-group-item');\n\n        for (var j = 0; j < listGroupItem.length; j++) {\n          attr[j] = listGroupItem[j].innerText;\n        }\n\n        if (attr.indexOf(liCollections[i].innerText) > -1 && fields.groupBy) {\n          for (var j = 0; j < listGroupItem.length; j++) {\n            if (attr[j] === liCollections[i].innerText) {\n              if (this.sortOrder === 'None') {\n                this.ulElement.insertBefore(liCollections[i + 1], listGroupItem[j + 1]);\n              } else {\n                this.ulElement.insertBefore(liCollections[i + 1], this.ulElement.childNodes[itemIndex]);\n              }\n\n              i = i + 1;\n              break;\n            }\n          }\n        } else {\n          if (this.liCollections[index]) {\n            this.liCollections[index].parentNode.insertBefore(liCollections[i], this.liCollections[index]);\n          } else {\n            this.ulElement.appendChild(liCollections[i]);\n          }\n        }\n\n        var tempLi = [].slice.call(this.liCollections);\n        tempLi.splice(index, 0, liCollections[i]);\n        this.liCollections = tempLi;\n        index += 1;\n\n        if (this.getModuleName() === 'multiselect') {\n          this.updateDataList();\n        }\n      }\n    }\n\n    if (selectedItemValue || itemIndex === 0) {\n      this.updateSelection();\n    }\n  };\n\n  DropDownBase.prototype.validationAttribute = function (target, hidden) {\n    var name = target.getAttribute('name') ? target.getAttribute('name') : target.getAttribute('id');\n    hidden.setAttribute('name', name);\n    target.removeAttribute('name');\n    var attributes = ['required', 'aria-required', 'form'];\n\n    for (var i = 0; i < attributes.length; i++) {\n      if (!target.getAttribute(attributes[i])) {\n        continue;\n      }\n\n      var attr = target.getAttribute(attributes[i]);\n      hidden.setAttribute(attributes[i], attr);\n      target.removeAttribute(attributes[i]);\n    }\n  };\n\n  DropDownBase.prototype.setZIndex = function () {// this is for component wise\n  };\n\n  DropDownBase.prototype.updateActionCompleteData = function (li, item, index) {// this is for ComboBox custom value\n  };\n\n  DropDownBase.prototype.updateAddItemList = function (list, itemCount) {// this is for multiselect add item\n  };\n\n  DropDownBase.prototype.updateDataList = function () {// this is for multiselect update list items\n  };\n  /**\r\n   * Gets the data Object that matches the given value.\r\n   * @param { string | number } value - Specifies the value of the list item.\r\n   * @returns Object.\r\n   * @blazorType object\r\n   */\n\n\n  DropDownBase.prototype.getDataByValue = function (value) {\n    if (!isNullOrUndefined(this.listData)) {\n      var type = this.typeOfData(this.listData).typeof;\n\n      if (type === 'string' || type === 'number' || type === 'boolean') {\n        for (var _i = 0, _a = this.listData; _i < _a.length; _i++) {\n          var item = _a[_i];\n\n          if (!isNullOrUndefined(item) && item === value) {\n            return item;\n          }\n        }\n      } else {\n        for (var _b = 0, _c = this.listData; _b < _c.length; _b++) {\n          var item = _c[_b];\n\n          if (!isNullOrUndefined(item) && getValue(this.fields.value ? this.fields.value : 'value', item) === value) {\n            return item;\n          }\n        }\n      }\n    }\n\n    return null;\n  };\n  /**\r\n   * Removes the component from the DOM and detaches all its related event handlers. It also removes the attributes and classes.\r\n   * @method destroy\r\n   * @return {void}.\r\n   */\n\n\n  DropDownBase.prototype.destroy = function () {\n    if (document.body.contains(this.list)) {\n      EventHandler.remove(this.list, 'scroll', this.setFloatingHeader);\n\n      if (!isNullOrUndefined(this.rippleFun)) {\n        this.rippleFun();\n      }\n\n      detach(this.list);\n    }\n\n    _super.prototype.destroy.call(this);\n  };\n\n  ;\n\n  __decorate([Complex({\n    text: null,\n    value: null,\n    iconCss: null,\n    groupBy: null\n  }, FieldSettings)], DropDownBase.prototype, \"fields\", void 0);\n\n  __decorate([Property(false)], DropDownBase.prototype, \"enablePersistence\", void 0);\n\n  __decorate([Property(null)], DropDownBase.prototype, \"itemTemplate\", void 0);\n\n  __decorate([Property(null)], DropDownBase.prototype, \"groupTemplate\", void 0);\n\n  __decorate([Property('No records found')], DropDownBase.prototype, \"noRecordsTemplate\", void 0);\n\n  __decorate([Property('Request failed')], DropDownBase.prototype, \"actionFailureTemplate\", void 0);\n\n  __decorate([Property('None')], DropDownBase.prototype, \"sortOrder\", void 0);\n\n  __decorate([Property(true)], DropDownBase.prototype, \"enabled\", void 0);\n\n  __decorate([Property([])], DropDownBase.prototype, \"dataSource\", void 0);\n\n  __decorate([Property(null)], DropDownBase.prototype, \"query\", void 0);\n\n  __decorate([Property('StartsWith')], DropDownBase.prototype, \"filterType\", void 0);\n\n  __decorate([Property(true)], DropDownBase.prototype, \"ignoreCase\", void 0);\n\n  __decorate([Property(1000)], DropDownBase.prototype, \"zIndex\", void 0);\n\n  __decorate([Property(false)], DropDownBase.prototype, \"ignoreAccent\", void 0);\n\n  __decorate([Property()], DropDownBase.prototype, \"locale\", void 0);\n\n  __decorate([Event()], DropDownBase.prototype, \"actionBegin\", void 0);\n\n  __decorate([Event()], DropDownBase.prototype, \"actionComplete\", void 0);\n\n  __decorate([Event()], DropDownBase.prototype, \"actionFailure\", void 0);\n\n  __decorate([Event()], DropDownBase.prototype, \"select\", void 0);\n\n  __decorate([Event()], DropDownBase.prototype, \"dataBound\", void 0);\n\n  __decorate([Event()], DropDownBase.prototype, \"created\", void 0);\n\n  __decorate([Event()], DropDownBase.prototype, \"destroyed\", void 0);\n\n  DropDownBase = __decorate([NotifyPropertyChanges], DropDownBase);\n  return DropDownBase;\n}(Component);\n\nexport { DropDownBase };","map":{"version":3,"sources":["C:/Users/User/volunteers/node_modules/@syncfusion/ej2-dropdowns/src/drop-down-base/drop-down-base.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","__decorate","decorators","target","key","desc","c","arguments","length","r","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","Component","EventHandler","addClass","append","Property","Event","L10n","compile","setStyleAttribute","extend","removeClass","prepend","isNullOrUndefined","detach","getValue","NotifyPropertyChanges","rippleEffect","ChildProperty","Complex","DataManager","Query","DataUtil","ListBase","updateBlazorTemplate","resetBlazorTemplate","isBlazor","remove","select","FieldSettings","_super","apply","dropDownBaseClasses","root","rtl","content","selected","hover","noData","fixedHead","focus","li","group","disabled","grouping","ITEMTEMPLATE_PROPERTY","VALUETEMPLATE_PROPERTY","GROUPTEMPLATE_PROPERTY","HEADERTEMPLATE_PROPERTY","FOOTERTEMPLATE_PROPERTY","NORECORDSTEMPLATE_PROPERTY","ACTIONFAILURETEMPLATE_PROPERTY","DropDownBase","options","element","_this","call","preventChange","isAngular","isPreventChange","getPropObject","prop","newProp","oldProp","newProperty","oldProperty","propName","data","getValueByText","text","ignoreCase","ignoreAccent","value","listData","checkValueCase","isTextByValue","dataSource","fields","type","typeOfData","typeof","_i","dataSource_1","item","checkingAccent","String","checkIgnoreCase","getItemValue","checkNonIgnoreCase","filter","itemValue","toString","dataItem","ignoreDiacritics","textItem","toLowerCase","typedText","getFormattedValue","templateCompiler","baseTemplate","checkTemplate","exception","document","l10nUpdate","actionFailure","ele","getModuleName","ulElement","list","noRecordsTemplate","actionFailureTemplate","DropDownBaseresetBlazorTemplates","template","compiledString","templateId","actionFailureTemplateId","noRecordsTemplateId","innerHTML","tempaltecheck","trim","templateName","noDataCompTemp","isStringTemplate","appendChild","DropDownBaseupdateBlazorTemplates","l10nLocale","componentLocale","getLocaleName","locale","getConstant","l10n","liElem","createElement","textContent","classList","add","getTextByValue","parseFloat","setEnableRtl","enableRtlElements","push","enableRtl","initialize","bindEvent","id","tagName","jsonElement","createJsonFromElement","setProperties","resetList","renderItemsBySelect","setListData","query","noRecord","action","header","footer","isEmpty","itemTemplate","itemTemplateId","groupTemplate","groupTemplateId","valueTemplateId","headerTemplateId","footerTemplateId","getPersistData","addOnPersist","setEnabled","setAttribute","enabled","updateDataAttribute","invalidAttr","attr","a","attributes","indexOf","name","getAttribute","htmlAttributes","querySelectorAll","option","getJSONfromOption","optionGroup","label","isHeader","child","items","options_1","json","innerText","preRender","scrollTimer","isRequested","isDataFetched","isActive","eventArgs","cancel","trigger","showSpinner","emptyDataRequest","executeQuery","getQuery","then","e","listItems","result","renderItems","onActionComplete","renderGroupTemplate","bindChildItems","catch","onActionFailure","hideSpinner","dataManager","executeLocal","localDataArgs","setTimeout","childNode","remainingItems","sortedData","liCollections","updateListValues","raiseDataBound","findListElement","findNode","attribute","liElement","listArr","slice","index","dataBoundEventArgs","spliceData","skip","listElements","templateListItem","childNodes","createListItemFromArray","listOption","createListItemFromJson","isServerRendered","querySelector","isReact","clearTemplate","fixedHeaderElement","postRender","listElement","focusItem","selectedItem","listEle","groupBy","groupTemplateID","headerItems","groupcheck","groupValue","tempHeaders","properties","createListItems","sortOrder","getSortedDataSource","groupDataSource","take","createList","iconCss","fieldValues","showIcon","ariaAttributes","groupItemRole","setFloatingHeader","className","contains","style","display","setFixedHeader","zIndex","scrollStop","liHeight","parseInt","getComputedStyle","getPropertyValue","topIndex","Math","round","scrollTop","currentLi","top","isTempEmpty","templateID","itemcheck","renderContentTemplate","listDataType","isNullData","parentElement","borderWidth","defaultView","liWidth","offsetWidth","width","firstLi","textField","getDataSource","addSorting","getIndexByValue","getItems","dispatchEvent","evt","createEvent","initEvent","setFields","selectData","updateSelectElementData","isFiltering","updateSelection","renderList","render","updateDataSource","props","setUpdateInitial","updateData","j","keys","onPropertyChanged","_a","setZIndex","isEmptyData","attrs","rippleModel","duration","selector","rippleFun","isGroupChecking","wrapperElement","insertBefore","addItem","itemIndex","newList","itemsCount","selectedItemValue","itemText","addItemTemplate","createTextNode","notify","module","updateActionCompleteData","updateAddItemList","listGroupItem","parentNode","tempLi","splice","updateDataList","validationAttribute","hidden","removeAttribute","itemCount","getDataByValue","_b","_c","destroy","body"],"mappings":"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","sourcesContent":["var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    }\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nimport { Component, EventHandler, addClass, append, Property, Event, L10n, compile } from '@syncfusion/ej2-base';\r\nimport { setStyleAttribute, extend, removeClass, prepend, isNullOrUndefined, detach, getValue } from '@syncfusion/ej2-base';\r\nimport { NotifyPropertyChanges, rippleEffect, ChildProperty, Complex } from '@syncfusion/ej2-base';\r\nimport { DataManager, Query, DataUtil } from '@syncfusion/ej2-data';\r\nimport { ListBase } from '@syncfusion/ej2-lists';\r\nimport { updateBlazorTemplate, resetBlazorTemplate, isBlazor, remove, select } from '@syncfusion/ej2-base';\r\nvar FieldSettings = /** @class */ (function (_super) {\r\n    __extends(FieldSettings, _super);\r\n    function FieldSettings() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    __decorate([\r\n        Property()\r\n    ], FieldSettings.prototype, \"text\", void 0);\r\n    __decorate([\r\n        Property()\r\n    ], FieldSettings.prototype, \"value\", void 0);\r\n    __decorate([\r\n        Property()\r\n    ], FieldSettings.prototype, \"iconCss\", void 0);\r\n    __decorate([\r\n        Property()\r\n    ], FieldSettings.prototype, \"groupBy\", void 0);\r\n    __decorate([\r\n        Property()\r\n    ], FieldSettings.prototype, \"htmlAttributes\", void 0);\r\n    return FieldSettings;\r\n}(ChildProperty));\r\nexport { FieldSettings };\r\nexport var dropDownBaseClasses = {\r\n    root: 'e-dropdownbase',\r\n    rtl: 'e-rtl',\r\n    content: 'e-content',\r\n    selected: 'e-active',\r\n    hover: 'e-hover',\r\n    noData: 'e-nodata',\r\n    fixedHead: 'e-fixed-head',\r\n    focus: 'e-item-focus',\r\n    li: 'e-list-item',\r\n    group: 'e-list-group-item',\r\n    disabled: 'e-disabled',\r\n    grouping: 'e-dd-group'\r\n};\r\nvar ITEMTEMPLATE_PROPERTY = 'ItemTemplate';\r\nvar VALUETEMPLATE_PROPERTY = 'ValueTemplate';\r\nvar GROUPTEMPLATE_PROPERTY = 'GroupTemplate';\r\nvar HEADERTEMPLATE_PROPERTY = 'HeaderTemplate';\r\nvar FOOTERTEMPLATE_PROPERTY = 'FooterTemplate';\r\nvar NORECORDSTEMPLATE_PROPERTY = 'NoRecordsTemplate';\r\nvar ACTIONFAILURETEMPLATE_PROPERTY = 'ActionFailureTemplate';\r\n/**\r\n * DropDownBase component will generate the list items based on given data and act as base class to drop-down related components\r\n */\r\nvar DropDownBase = /** @class */ (function (_super) {\r\n    __extends(DropDownBase, _super);\r\n    /**\r\n     * * Constructor for DropDownBase class\r\n     */\r\n    function DropDownBase(options, element) {\r\n        var _this = _super.call(this, options, element) || this;\r\n        _this.preventChange = false;\r\n        _this.isAngular = false;\r\n        _this.isPreventChange = false;\r\n        return _this;\r\n    }\r\n    ;\r\n    DropDownBase.prototype.getPropObject = function (prop, newProp, oldProp) {\r\n        var newProperty = new Object();\r\n        var oldProperty = new Object();\r\n        // tslint:disable-next-line:no-function-constructor-with-string-args\r\n        var propName = function (prop) {\r\n            return prop;\r\n        };\r\n        newProperty[propName(prop)] = newProp[propName(prop)];\r\n        oldProperty[propName(prop)] = oldProp[propName(prop)];\r\n        var data = new Object();\r\n        data.newProperty = newProperty;\r\n        data.oldProperty = oldProperty;\r\n        return data;\r\n    };\r\n    DropDownBase.prototype.getValueByText = function (text, ignoreCase, ignoreAccent) {\r\n        var value = null;\r\n        if (!isNullOrUndefined(this.listData)) {\r\n            if (ignoreCase) {\r\n                value = this.checkValueCase(text, true, ignoreAccent);\r\n            }\r\n            else {\r\n                value = this.checkValueCase(text, false, ignoreAccent);\r\n            }\r\n        }\r\n        return value;\r\n    };\r\n    ;\r\n    DropDownBase.prototype.checkValueCase = function (text, ignoreCase, ignoreAccent, isTextByValue) {\r\n        var _this = this;\r\n        var value = null;\r\n        if (isTextByValue) {\r\n            value = text;\r\n        }\r\n        var dataSource = this.listData;\r\n        var fields = this.fields;\r\n        var type = this.typeOfData(dataSource).typeof;\r\n        if (type === 'string' || type === 'number' || type === 'boolean') {\r\n            for (var _i = 0, dataSource_1 = dataSource; _i < dataSource_1.length; _i++) {\r\n                var item = dataSource_1[_i];\r\n                if (!isNullOrUndefined(item)) {\r\n                    if (ignoreAccent) {\r\n                        value = this.checkingAccent(String(item), text, ignoreCase);\r\n                    }\r\n                    else {\r\n                        if (ignoreCase) {\r\n                            if (this.checkIgnoreCase(String(item), text)) {\r\n                                value = this.getItemValue(String(item), text, ignoreCase);\r\n                            }\r\n                        }\r\n                        else {\r\n                            if (this.checkNonIgnoreCase(String(item), text)) {\r\n                                value = this.getItemValue(String(item), text, ignoreCase, isTextByValue);\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            if (ignoreCase) {\r\n                dataSource.filter(function (item) {\r\n                    var itemValue = getValue(fields.value, item);\r\n                    if (!isNullOrUndefined(itemValue) && _this.checkIgnoreCase(getValue(fields.text, item).toString(), text)) {\r\n                        value = getValue(fields.value, item);\r\n                    }\r\n                });\r\n            }\r\n            else {\r\n                if (isTextByValue) {\r\n                    dataSource.filter(function (item) {\r\n                        var itemValue = getValue(fields.value, item);\r\n                        if (!isNullOrUndefined(itemValue) && !isNullOrUndefined(value) && itemValue.toString() === value.toString()) {\r\n                            value = getValue(fields.text, item);\r\n                        }\r\n                    });\r\n                }\r\n                else {\r\n                    dataSource.filter(function (item) {\r\n                        if (_this.checkNonIgnoreCase(getValue(fields.text, item), text)) {\r\n                            value = getValue(fields.value, item);\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n        }\r\n        return value;\r\n    };\r\n    DropDownBase.prototype.checkingAccent = function (item, text, ignoreCase) {\r\n        var dataItem = DataUtil.ignoreDiacritics(String(item));\r\n        var textItem = DataUtil.ignoreDiacritics(text.toString());\r\n        var value = null;\r\n        if (ignoreCase) {\r\n            if (this.checkIgnoreCase(dataItem, textItem)) {\r\n                value = this.getItemValue(String(item), text, ignoreCase);\r\n            }\r\n        }\r\n        else {\r\n            if (this.checkNonIgnoreCase(String(item), text)) {\r\n                value = this.getItemValue(String(item), text, ignoreCase);\r\n            }\r\n        }\r\n        return value;\r\n    };\r\n    DropDownBase.prototype.checkIgnoreCase = function (item, text) {\r\n        return String(item).toLowerCase() === text.toString().toLowerCase() ? true : false;\r\n    };\r\n    DropDownBase.prototype.checkNonIgnoreCase = function (item, text) {\r\n        return String(item) === text.toString() ? true : false;\r\n    };\r\n    DropDownBase.prototype.getItemValue = function (dataItem, typedText, ignoreCase, isTextByValue) {\r\n        var value = null;\r\n        var dataSource = this.listData;\r\n        var type = this.typeOfData(dataSource).typeof;\r\n        if (isTextByValue) {\r\n            value = dataItem.toString();\r\n        }\r\n        else {\r\n            if (ignoreCase) {\r\n                value = type === 'string' ? String(dataItem) : this.getFormattedValue(String(dataItem));\r\n            }\r\n            else {\r\n                value = type === 'string' ? typedText : this.getFormattedValue(typedText);\r\n            }\r\n        }\r\n        return value;\r\n    };\r\n    DropDownBase.prototype.templateCompiler = function (baseTemplate) {\r\n        var checkTemplate = false;\r\n        if (baseTemplate) {\r\n            var exception = void 0;\r\n            try {\r\n                checkTemplate = (select(baseTemplate, document).length) ? true : false;\r\n            }\r\n            catch (exception) {\r\n                checkTemplate = false;\r\n            }\r\n        }\r\n        return checkTemplate;\r\n    };\r\n    DropDownBase.prototype.l10nUpdate = function (actionFailure) {\r\n        var ele = this.getModuleName() === 'listbox' ? this.ulElement : this.list;\r\n        if (this.noRecordsTemplate !== 'No records found' || this.actionFailureTemplate !== 'Request failed') {\r\n            this.DropDownBaseresetBlazorTemplates(false, false, true, true);\r\n            var template = actionFailure ? this.actionFailureTemplate : this.noRecordsTemplate;\r\n            var compiledString = void 0;\r\n            var templateId = actionFailure ? this.actionFailureTemplateId : this.noRecordsTemplateId;\r\n            ele.innerHTML = '';\r\n            var tempaltecheck = this.templateCompiler(template);\r\n            if (tempaltecheck) {\r\n                compiledString = compile(select(template, document).innerHTML.trim());\r\n            }\r\n            else {\r\n                compiledString = compile(template);\r\n            }\r\n            var templateName = actionFailure ? 'actionFailureTemplate' : 'noRecordsTemplate';\r\n            // tslint:disable-next-line\r\n            var noDataCompTemp = compiledString({}, this, templateName, templateId, this.isStringTemplate, null, ele);\r\n            if (noDataCompTemp && noDataCompTemp.length > 0) {\r\n                for (var i = 0; i < noDataCompTemp.length; i++) {\r\n                    ele.appendChild(noDataCompTemp[i]);\r\n                }\r\n            }\r\n            this.DropDownBaseupdateBlazorTemplates(false, false, !actionFailure, actionFailure, false, false, false, false);\r\n        }\r\n        else {\r\n            var l10nLocale = { noRecordsTemplate: 'No records found', actionFailureTemplate: 'Request failed' };\r\n            var componentLocale = new L10n(this.getLocaleName(), {}, this.locale);\r\n            if (componentLocale.getConstant('actionFailureTemplate') !== '') {\r\n                this.l10n = componentLocale;\r\n            }\r\n            else {\r\n                this.l10n = new L10n(this.getModuleName() === 'listbox' ? 'listbox' : 'dropdowns', l10nLocale, this.locale);\r\n            }\r\n            var content = actionFailure ?\r\n                this.l10n.getConstant('actionFailureTemplate') : this.l10n.getConstant('noRecordsTemplate');\r\n            if (this.getModuleName() === 'listbox') {\r\n                var liElem = this.createElement('li');\r\n                liElem.textContent = content;\r\n                ele.appendChild(liElem);\r\n                liElem.classList.add('e-list-nrt');\r\n            }\r\n            else {\r\n                ele.innerHTML = content;\r\n            }\r\n        }\r\n    };\r\n    DropDownBase.prototype.getLocaleName = function () {\r\n        return 'drop-down-base';\r\n    };\r\n    ;\r\n    DropDownBase.prototype.getTextByValue = function (value) {\r\n        var text;\r\n        text = this.checkValueCase(value, false, false, true);\r\n        return text;\r\n    };\r\n    DropDownBase.prototype.getFormattedValue = function (value) {\r\n        if (this.listData && this.listData.length) {\r\n            var item = this.typeOfData(this.listData);\r\n            if (isBlazor() && isNullOrUndefined(value) || value === 'null') {\r\n                return null;\r\n            }\r\n            if (typeof getValue((this.fields.value ? this.fields.value : 'value'), item.item) === 'number'\r\n                || item.typeof === 'number') {\r\n                return parseFloat(value);\r\n            }\r\n            if (typeof getValue((this.fields.value ? this.fields.value : 'value'), item.item) === 'boolean'\r\n                || item.typeof === 'boolean') {\r\n                return (value === 'true');\r\n            }\r\n        }\r\n        return value;\r\n    };\r\n    /**\r\n     * Sets RTL to dropdownbase wrapper\r\n     */\r\n    DropDownBase.prototype.setEnableRtl = function () {\r\n        if (this.list) {\r\n            this.enableRtlElements.push(this.list);\r\n        }\r\n        this.enableRtl ? addClass(this.enableRtlElements, dropDownBaseClasses.rtl) :\r\n            removeClass(this.enableRtlElements, dropDownBaseClasses.rtl);\r\n    };\r\n    ;\r\n    /**\r\n     * Initialize the Component.\r\n     */\r\n    DropDownBase.prototype.initialize = function () {\r\n        this.bindEvent = true;\r\n        this.actionFailureTemplateId = \"\" + this.element.id + ACTIONFAILURETEMPLATE_PROPERTY;\r\n        if (this.element.tagName === 'UL') {\r\n            var jsonElement = ListBase.createJsonFromElement(this.element);\r\n            this.setProperties({ fields: { text: 'text', value: 'text' } }, true);\r\n            this.resetList(jsonElement, this.fields);\r\n        }\r\n        else if (this.element.tagName === 'SELECT') {\r\n            var dataSource = this.dataSource instanceof Array ? (this.dataSource.length > 0 ? true : false)\r\n                : !isNullOrUndefined(this.dataSource) ? true : false;\r\n            if (!dataSource) {\r\n                this.renderItemsBySelect();\r\n            }\r\n        }\r\n        else {\r\n            this.setListData(this.dataSource, this.fields, this.query);\r\n        }\r\n    };\r\n    ;\r\n    DropDownBase.prototype.DropDownBaseupdateBlazorTemplates = function (item, group, noRecord, action, value, header, footer, isEmpty) {\r\n        if (!this.isStringTemplate) {\r\n            if (this.itemTemplate && item) {\r\n                updateBlazorTemplate(this.itemTemplateId, ITEMTEMPLATE_PROPERTY, this, isEmpty);\r\n            }\r\n            if (this.groupTemplate && group) {\r\n                updateBlazorTemplate(this.groupTemplateId, GROUPTEMPLATE_PROPERTY, this, isEmpty);\r\n            }\r\n            if (this.noRecordsTemplate && noRecord) {\r\n                updateBlazorTemplate(this.noRecordsTemplateId, NORECORDSTEMPLATE_PROPERTY, this, isEmpty);\r\n            }\r\n            if (this.actionFailureTemplate && action) {\r\n                updateBlazorTemplate(this.actionFailureTemplateId, ACTIONFAILURETEMPLATE_PROPERTY, this, isEmpty);\r\n            }\r\n            if (value) {\r\n                updateBlazorTemplate(this.valueTemplateId, VALUETEMPLATE_PROPERTY, this, isEmpty);\r\n            }\r\n            if (header) {\r\n                updateBlazorTemplate(this.headerTemplateId, HEADERTEMPLATE_PROPERTY, this);\r\n            }\r\n            if (footer) {\r\n                updateBlazorTemplate(this.footerTemplateId, FOOTERTEMPLATE_PROPERTY, this);\r\n            }\r\n        }\r\n    };\r\n    DropDownBase.prototype.DropDownBaseresetBlazorTemplates = function (item, group, noRecord, action, value, header, footer) {\r\n        if (!this.isStringTemplate) {\r\n            if (this.itemTemplate && item) {\r\n                resetBlazorTemplate(this.itemTemplateId, ITEMTEMPLATE_PROPERTY);\r\n            }\r\n            if (this.groupTemplate && group) {\r\n                resetBlazorTemplate(this.groupTemplateId, GROUPTEMPLATE_PROPERTY);\r\n            }\r\n            if (this.noRecordsTemplate && noRecord) {\r\n                resetBlazorTemplate(this.noRecordsTemplateId, NORECORDSTEMPLATE_PROPERTY);\r\n            }\r\n            if (this.actionFailureTemplate && action) {\r\n                resetBlazorTemplate(this.actionFailureTemplateId, ACTIONFAILURETEMPLATE_PROPERTY);\r\n            }\r\n            if (value) {\r\n                resetBlazorTemplate(this.valueTemplateId, VALUETEMPLATE_PROPERTY);\r\n            }\r\n            if (header) {\r\n                resetBlazorTemplate(this.headerTemplateId, HEADERTEMPLATE_PROPERTY);\r\n            }\r\n            if (footer) {\r\n                resetBlazorTemplate(this.footerTemplateId, FOOTERTEMPLATE_PROPERTY);\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Get the properties to be maintained in persisted state.\r\n     */\r\n    DropDownBase.prototype.getPersistData = function () {\r\n        return this.addOnPersist([]);\r\n    };\r\n    ;\r\n    /**\r\n     * Sets the enabled state to DropDownBase.\r\n     */\r\n    DropDownBase.prototype.setEnabled = function () {\r\n        this.element.setAttribute('aria-disabled', (this.enabled) ? 'false' : 'true');\r\n    };\r\n    ;\r\n    /**\r\n     * Sets the enabled state to DropDownBase.\r\n     */\r\n    DropDownBase.prototype.updateDataAttribute = function (value) {\r\n        var invalidAttr = ['class', 'style', 'id', 'type'];\r\n        var attr = {};\r\n        for (var a = 0; a < this.element.attributes.length; a++) {\r\n            if (invalidAttr.indexOf(this.element.attributes[a].name) === -1 &&\r\n                !(this.getModuleName() === 'dropdownlist' && this.element.attributes[a].name === 'readonly')) {\r\n                attr[this.element.attributes[a].name] = this.element.getAttribute(this.element.attributes[a].name);\r\n            }\r\n        }\r\n        extend(attr, value, attr);\r\n        this.setProperties({ htmlAttributes: attr }, true);\r\n    };\r\n    DropDownBase.prototype.renderItemsBySelect = function () {\r\n        var element = this.element;\r\n        var fields = { value: 'value', text: 'text' };\r\n        var jsonElement = [];\r\n        var group = element.querySelectorAll('select>optgroup');\r\n        var option = element.querySelectorAll('select>option');\r\n        this.getJSONfromOption(jsonElement, option, fields);\r\n        if (group.length) {\r\n            for (var i = 0; i < group.length; i++) {\r\n                var item = group[i];\r\n                var optionGroup = {};\r\n                optionGroup[fields.text] = item.label;\r\n                optionGroup.isHeader = true;\r\n                var child = item.querySelectorAll('option');\r\n                jsonElement.push(optionGroup);\r\n                this.getJSONfromOption(jsonElement, child, fields);\r\n            }\r\n            var items = element.querySelectorAll('select>option');\r\n        }\r\n        this.fields.text = fields.text;\r\n        this.fields.value = fields.value;\r\n        this.resetList(jsonElement, fields);\r\n    };\r\n    DropDownBase.prototype.getJSONfromOption = function (items, options, fields) {\r\n        for (var _i = 0, options_1 = options; _i < options_1.length; _i++) {\r\n            var option = options_1[_i];\r\n            var json = {};\r\n            json[fields.text] = option.innerText;\r\n            json[fields.value] = !isNullOrUndefined(option.getAttribute(fields.value)) ?\r\n                option.getAttribute(fields.value) : option.innerText;\r\n            items.push(json);\r\n        }\r\n    };\r\n    /**\r\n     * Execute before render the list items\r\n     * @private\r\n     */\r\n    DropDownBase.prototype.preRender = function () {\r\n        // there is no event handler\r\n        this.scrollTimer = -1;\r\n        this.enableRtlElements = [];\r\n        this.isRequested = false;\r\n        this.isDataFetched = false;\r\n        this.itemTemplateId = \"\" + this.element.id + ITEMTEMPLATE_PROPERTY;\r\n        this.valueTemplateId = \"\" + this.element.id + VALUETEMPLATE_PROPERTY;\r\n        this.groupTemplateId = \"\" + this.element.id + GROUPTEMPLATE_PROPERTY;\r\n        this.headerTemplateId = \"\" + this.element.id + HEADERTEMPLATE_PROPERTY;\r\n        this.footerTemplateId = \"\" + this.element.id + FOOTERTEMPLATE_PROPERTY;\r\n        this.noRecordsTemplateId = \"\" + this.element.id + NORECORDSTEMPLATE_PROPERTY;\r\n    };\r\n    /**\r\n     * Creates the list items of DropDownBase component.\r\n     */\r\n    DropDownBase.prototype.setListData = function (dataSource, fields, query) {\r\n        var _this = this;\r\n        fields = fields ? fields : this.fields;\r\n        var ulElement;\r\n        this.isActive = true;\r\n        var eventArgs = { cancel: false, data: dataSource, query: query };\r\n        this.isPreventChange = this.isAngular && this.preventChange ? true : this.isPreventChange;\r\n        this.trigger('actionBegin', eventArgs, function (eventArgs) {\r\n            if (!eventArgs.cancel) {\r\n                _this.showSpinner();\r\n                if (dataSource instanceof DataManager) {\r\n                    _this.isRequested = true;\r\n                    if (_this.isDataFetched) {\r\n                        _this.emptyDataRequest(fields);\r\n                        return;\r\n                    }\r\n                    eventArgs.data.executeQuery(_this.getQuery(eventArgs.query)).then(function (e) {\r\n                        _this.isPreventChange = _this.isAngular && _this.preventChange ? true : _this.isPreventChange;\r\n                        _this.trigger('actionComplete', e, function (e) {\r\n                            if (!e.cancel) {\r\n                                var listItems = e.result;\r\n                                if (listItems.length === 0) {\r\n                                    _this.isDataFetched = true;\r\n                                }\r\n                                ulElement = _this.renderItems(listItems, fields);\r\n                                _this.onActionComplete(ulElement, listItems, e);\r\n                                if (_this.groupTemplate) {\r\n                                    _this.renderGroupTemplate(ulElement);\r\n                                }\r\n                                _this.isRequested = false;\r\n                                _this.bindChildItems(listItems, ulElement, fields, e);\r\n                            }\r\n                        });\r\n                    }).catch(function (e) {\r\n                        _this.isRequested = false;\r\n                        _this.onActionFailure(e);\r\n                        _this.hideSpinner();\r\n                    });\r\n                }\r\n                else {\r\n                    var dataManager = new DataManager(eventArgs.data);\r\n                    var listItems = (_this.getQuery(eventArgs.query)).executeLocal(dataManager);\r\n                    var localDataArgs = { cancel: false, result: listItems };\r\n                    _this.isPreventChange = _this.isAngular && _this.preventChange ? true : _this.isPreventChange;\r\n                    _this.trigger('actionComplete', localDataArgs, function (localDataArgs) {\r\n                        if (!localDataArgs.cancel) {\r\n                            ulElement = _this.renderItems(localDataArgs.result, fields);\r\n                            _this.onActionComplete(ulElement, localDataArgs.result);\r\n                            if (_this.groupTemplate) {\r\n                                _this.renderGroupTemplate(ulElement);\r\n                            }\r\n                            _this.bindChildItems(localDataArgs.result, ulElement, fields);\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n        });\r\n    };\r\n    DropDownBase.prototype.bindChildItems = function (listItems, ulElement, fields, e) {\r\n        var _this = this;\r\n        if (listItems.length >= 100 && this.getModuleName() === 'autocomplete') {\r\n            setTimeout(function () {\r\n                var childNode = _this.remainingItems(_this.sortedData, fields);\r\n                append(childNode, ulElement);\r\n                _this.DropDownBaseupdateBlazorTemplates(true, false, false, false);\r\n                _this.liCollections = _this.list.querySelectorAll('.' + dropDownBaseClasses.li);\r\n                _this.updateListValues();\r\n                _this.raiseDataBound(listItems, e);\r\n            }, 0);\r\n        }\r\n        else {\r\n            this.raiseDataBound(listItems, e);\r\n        }\r\n    };\r\n    DropDownBase.prototype.updateListValues = function () {\r\n        // Used this method in component side.\r\n    };\r\n    DropDownBase.prototype.findListElement = function (list, findNode, attribute, value) {\r\n        var liElement = null;\r\n        if (list) {\r\n            var listArr = [].slice.call(list.querySelectorAll(findNode));\r\n            for (var index = 0; index < listArr.length; index++) {\r\n                if (listArr[index].getAttribute(attribute) === (value + '')) {\r\n                    liElement = listArr[index];\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        return liElement;\r\n    };\r\n    DropDownBase.prototype.raiseDataBound = function (listItems, e) {\r\n        this.hideSpinner();\r\n        var dataBoundEventArgs = {\r\n            items: listItems,\r\n            e: e\r\n        };\r\n        this.trigger('dataBound', dataBoundEventArgs);\r\n    };\r\n    DropDownBase.prototype.remainingItems = function (dataSource, fields) {\r\n        var spliceData = new DataManager(dataSource).executeLocal(new Query().skip(100));\r\n        if (this.itemTemplate) {\r\n            var listElements = this.templateListItem(spliceData, fields);\r\n            return [].slice.call(listElements.childNodes);\r\n        }\r\n        var type = this.typeOfData(spliceData).typeof;\r\n        if (type === 'string' || type === 'number' || type === 'boolean') {\r\n            return ListBase.createListItemFromArray(this.createElement, spliceData, true, this.listOption(spliceData, fields), this);\r\n        }\r\n        return ListBase.createListItemFromJson(this.createElement, spliceData, this.listOption(spliceData, fields), 1, true, this);\r\n    };\r\n    DropDownBase.prototype.emptyDataRequest = function (fields) {\r\n        var listItems = [];\r\n        this.onActionComplete(this.renderItems(listItems, fields), listItems);\r\n        this.isRequested = false;\r\n        this.hideSpinner();\r\n    };\r\n    DropDownBase.prototype.showSpinner = function () {\r\n        // Used this method in component side.\r\n    };\r\n    DropDownBase.prototype.hideSpinner = function () {\r\n        // Used this method in component side.\r\n    };\r\n    DropDownBase.prototype.onActionFailure = function (e) {\r\n        this.liCollections = [];\r\n        this.trigger('actionFailure', e);\r\n        this.l10nUpdate(true);\r\n        addClass([this.list], dropDownBaseClasses.noData);\r\n    };\r\n    DropDownBase.prototype.onActionComplete = function (ulElement, list, e) {\r\n        this.listData = list;\r\n        if (isBlazor() && this.isServerRendered && this.getModuleName() === 'listbox') {\r\n            remove(this.list.querySelector('.e-list-parent'));\r\n            remove(this.list.querySelector('.e-hidden-select'));\r\n        }\r\n        else {\r\n            // tslint:disable-next-line         \r\n            if (this.isReact) {\r\n                this.clearTemplate(['itemTemplate', 'groupTemplate', 'actionFailureTemplate', 'noRecordsTemplate']);\r\n            }\r\n            this.list.innerHTML = '';\r\n        }\r\n        this.fixedHeaderElement = isNullOrUndefined(this.fixedHeaderElement) ? this.fixedHeaderElement : null;\r\n        this.list.appendChild(ulElement);\r\n        this.liCollections = this.list.querySelectorAll('.' + dropDownBaseClasses.li);\r\n        this.ulElement = this.list.querySelector('ul');\r\n        this.postRender(this.list, list, this.bindEvent);\r\n    };\r\n    DropDownBase.prototype.postRender = function (listElement, list, bindEvent) {\r\n        var focusItem = listElement.querySelector('.' + dropDownBaseClasses.li);\r\n        var selectedItem = listElement.querySelector('.' + dropDownBaseClasses.selected);\r\n        if (focusItem && !selectedItem) {\r\n            focusItem.classList.add(dropDownBaseClasses.focus);\r\n        }\r\n        if (list.length <= 0) {\r\n            this.l10nUpdate();\r\n            addClass([listElement], dropDownBaseClasses.noData);\r\n        }\r\n        else {\r\n            listElement.classList.remove(dropDownBaseClasses.noData);\r\n        }\r\n    };\r\n    /**\r\n     * Get the query to do the data operation before list item generation.\r\n     */\r\n    DropDownBase.prototype.getQuery = function (query) {\r\n        return query ? query : this.query ? this.query : new Query();\r\n    };\r\n    /**\r\n     * To render the template content for group header element.\r\n     */\r\n    DropDownBase.prototype.renderGroupTemplate = function (listEle) {\r\n        if (this.fields.groupBy !== null && this.dataSource || this.element.querySelector('.' + dropDownBaseClasses.group)) {\r\n            var dataSource = this.dataSource;\r\n            var option = { groupTemplateID: this.groupTemplateId, isStringTemplate: this.isStringTemplate };\r\n            var headerItems = listEle.querySelectorAll('.' + dropDownBaseClasses.group);\r\n            var groupcheck = this.templateCompiler(this.groupTemplate);\r\n            if (groupcheck) {\r\n                var groupValue = select(this.groupTemplate, document).innerHTML.trim();\r\n                var tempHeaders = ListBase.renderGroupTemplate(groupValue, dataSource, this.fields.properties, headerItems, option, this);\r\n            }\r\n            else {\r\n                var tempHeaders = ListBase.renderGroupTemplate(this.groupTemplate, dataSource, this.fields.properties, headerItems, option, this);\r\n            }\r\n            this.DropDownBaseupdateBlazorTemplates(false, true, false, false, false, false, false, false);\r\n        }\r\n    };\r\n    /**\r\n     * To create the ul li list items\r\n     */\r\n    DropDownBase.prototype.createListItems = function (dataSource, fields) {\r\n        if (dataSource && fields.groupBy || this.element.querySelector('optgroup')) {\r\n            if (fields.groupBy) {\r\n                if (this.sortOrder !== 'None') {\r\n                    dataSource = this.getSortedDataSource(dataSource);\r\n                }\r\n                dataSource = ListBase.groupDataSource(dataSource, fields.properties, this.sortOrder);\r\n            }\r\n            addClass([this.list], dropDownBaseClasses.grouping);\r\n        }\r\n        else {\r\n            dataSource = this.getSortedDataSource(dataSource);\r\n        }\r\n        var options = this.listOption(dataSource, fields);\r\n        var spliceData = (dataSource.length > 100) ?\r\n            new DataManager(dataSource).executeLocal(new Query().take(100))\r\n            : dataSource;\r\n        this.sortedData = dataSource;\r\n        return ListBase.createList(this.createElement, (this.getModuleName() === 'autocomplete') ? spliceData : dataSource, options, true, this);\r\n    };\r\n    ;\r\n    DropDownBase.prototype.listOption = function (dataSource, fields) {\r\n        var iconCss = isNullOrUndefined(fields.iconCss) ? false : true;\r\n        var fieldValues = !isNullOrUndefined(fields.properties) ?\r\n            fields.properties : fields;\r\n        var options = (fields.text !== null || fields.value !== null) ? {\r\n            fields: fieldValues,\r\n            showIcon: iconCss, ariaAttributes: { groupItemRole: 'presentation' }\r\n        } : { fields: { value: 'text' } };\r\n        return extend({}, options, fields, true);\r\n    };\r\n    ;\r\n    DropDownBase.prototype.setFloatingHeader = function (e) {\r\n        if (isNullOrUndefined(this.fixedHeaderElement)) {\r\n            this.fixedHeaderElement = this.createElement('div', { className: dropDownBaseClasses.fixedHead });\r\n            if (!this.list.querySelector('li').classList.contains(dropDownBaseClasses.group)) {\r\n                this.fixedHeaderElement.style.display = 'none';\r\n            }\r\n            prepend([this.fixedHeaderElement], this.list);\r\n            this.setFixedHeader();\r\n        }\r\n        if (!isNullOrUndefined(this.fixedHeaderElement) && this.fixedHeaderElement.style.zIndex === '0') {\r\n            this.setFixedHeader();\r\n        }\r\n        this.scrollStop(e);\r\n    };\r\n    DropDownBase.prototype.scrollStop = function (e) {\r\n        var target = e.target;\r\n        var liHeight = parseInt(getComputedStyle(this.liCollections[0], null).getPropertyValue('height'), 10);\r\n        var topIndex = Math.round(target.scrollTop / liHeight);\r\n        var liCollections = this.list.querySelectorAll('li');\r\n        for (var i = topIndex; i > -1; i--) {\r\n            if (!isNullOrUndefined(liCollections[i]) && liCollections[i].classList.contains(dropDownBaseClasses.group)) {\r\n                var currentLi = liCollections[i];\r\n                this.fixedHeaderElement.innerHTML = currentLi.innerHTML;\r\n                this.fixedHeaderElement.style.top = e.target.scrollTop + 'px';\r\n                this.fixedHeaderElement.style.display = 'block';\r\n                break;\r\n            }\r\n            else {\r\n                this.fixedHeaderElement.style.display = 'none';\r\n                this.fixedHeaderElement.style.top = 'none';\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * To render the list items\r\n     */\r\n    DropDownBase.prototype.renderItems = function (listData, fields) {\r\n        var ulElement;\r\n        if (this.itemTemplate && listData) {\r\n            var dataSource = listData;\r\n            if (dataSource && fields.groupBy) {\r\n                if (this.sortOrder !== 'None') {\r\n                    dataSource = this.getSortedDataSource(dataSource);\r\n                }\r\n                dataSource = ListBase.groupDataSource(dataSource, fields.properties, this.sortOrder);\r\n            }\r\n            else {\r\n                dataSource = this.getSortedDataSource(dataSource);\r\n            }\r\n            this.sortedData = dataSource;\r\n            var spliceData = (dataSource.length > 100) ?\r\n                new DataManager(dataSource).executeLocal(new Query().take(100))\r\n                : dataSource;\r\n            ulElement = this.templateListItem((this.getModuleName() === 'autocomplete') ? spliceData : dataSource, fields);\r\n            var isTempEmpty = (this.getModuleName() === 'listbox') ? true : false;\r\n            this.DropDownBaseupdateBlazorTemplates(true, false, false, false, false, false, false, isTempEmpty);\r\n        }\r\n        else {\r\n            ulElement = this.createListItems(listData, fields);\r\n        }\r\n        return ulElement;\r\n    };\r\n    ;\r\n    DropDownBase.prototype.templateListItem = function (dataSource, fields) {\r\n        this.DropDownBaseresetBlazorTemplates(true, false, false, false);\r\n        var option = this.listOption(dataSource, fields);\r\n        option.templateID = this.itemTemplateId;\r\n        option.isStringTemplate = this.isStringTemplate;\r\n        var itemcheck = this.templateCompiler(this.itemTemplate);\r\n        if (itemcheck) {\r\n            var itemValue = select(this.itemTemplate, document).innerHTML.trim();\r\n            return ListBase.renderContentTemplate(this.createElement, itemValue, dataSource, fields.properties, option, this);\r\n        }\r\n        else {\r\n            return ListBase.renderContentTemplate(this.createElement, this.itemTemplate, dataSource, fields.properties, option, this);\r\n        }\r\n    };\r\n    ;\r\n    DropDownBase.prototype.typeOfData = function (items) {\r\n        var item = { typeof: null, item: null };\r\n        for (var i = 0; (!isNullOrUndefined(items) && i < items.length); i++) {\r\n            if (!isNullOrUndefined(items[i])) {\r\n                var listDataType = typeof (items[i]) === 'string' ||\r\n                    typeof (items[i]) === 'number' || typeof (items[i]) === 'boolean';\r\n                var isNullData = listDataType ? isNullOrUndefined(items[i]) :\r\n                    isNullOrUndefined(getValue((this.fields.value ? this.fields.value : 'value'), items[i]));\r\n                if (!isNullData) {\r\n                    return item = { typeof: typeof items[i], item: items[i] };\r\n                }\r\n            }\r\n        }\r\n        return item;\r\n    };\r\n    DropDownBase.prototype.setFixedHeader = function () {\r\n        this.list.parentElement.style.display = 'block';\r\n        var borderWidth = 0;\r\n        if (this.list && this.list.parentElement) {\r\n            borderWidth = parseInt(document.defaultView.getComputedStyle(this.list.parentElement, null).getPropertyValue('border-width'), 10);\r\n        }\r\n        var liWidth = this.liCollections[0].offsetWidth - borderWidth;\r\n        this.fixedHeaderElement.style.width = liWidth.toString() + 'px';\r\n        setStyleAttribute(this.fixedHeaderElement, { zIndex: 10 });\r\n        var firstLi = this.ulElement.querySelector('.' + dropDownBaseClasses.group);\r\n        this.fixedHeaderElement.innerHTML = firstLi.innerHTML;\r\n    };\r\n    DropDownBase.prototype.getSortedDataSource = function (dataSource) {\r\n        if (dataSource && this.sortOrder !== 'None') {\r\n            var textField = this.fields.text ? this.fields.text : 'text';\r\n            if (this.typeOfData(dataSource).typeof === 'string' || this.typeOfData(dataSource).typeof === 'number'\r\n                || this.typeOfData(dataSource).typeof === 'boolean') {\r\n                textField = '';\r\n            }\r\n            dataSource = ListBase.getDataSource(dataSource, ListBase.addSorting(this.sortOrder, textField));\r\n        }\r\n        return dataSource;\r\n    };\r\n    /**\r\n     * Return the index of item which matched with given value in data source\r\n     */\r\n    DropDownBase.prototype.getIndexByValue = function (value) {\r\n        var index;\r\n        var listItems = this.getItems();\r\n        for (var i = 0; i < listItems.length; i++) {\r\n            if (!isNullOrUndefined(value) && listItems[i].getAttribute('data-value') === value.toString()) {\r\n                index = i;\r\n                break;\r\n            }\r\n        }\r\n        return index;\r\n    };\r\n    ;\r\n    /**\r\n     * To dispatch the event manually\r\n     */\r\n    DropDownBase.prototype.dispatchEvent = function (element, type) {\r\n        var evt = document.createEvent('HTMLEvents');\r\n        evt.initEvent(type, false, true);\r\n        element.dispatchEvent(evt);\r\n    };\r\n    /**\r\n     * To set the current fields\r\n     */\r\n    DropDownBase.prototype.setFields = function () {\r\n        if (this.fields.value && !this.fields.text) {\r\n            this.fields.text = this.fields.value;\r\n        }\r\n        else if (!this.fields.value && this.fields.text) {\r\n            this.fields.value = this.fields.text;\r\n        }\r\n        else if (!this.fields.value && !this.fields.text) {\r\n            this.fields.value = this.fields.text = 'text';\r\n        }\r\n    };\r\n    /**\r\n     * reset the items list.\r\n     */\r\n    DropDownBase.prototype.resetList = function (dataSource, fields, query) {\r\n        if (this.list) {\r\n            if ((this.element.tagName === 'SELECT' && this.element.options.length > 0)\r\n                || (this.element.tagName === 'UL' && this.element.childNodes.length > 0)) {\r\n                var data = dataSource instanceof Array ? (dataSource.length > 0)\r\n                    : !isNullOrUndefined(dataSource);\r\n                if (!data && this.selectData && this.selectData.length > 0) {\r\n                    dataSource = this.selectData;\r\n                }\r\n            }\r\n            this.setListData(dataSource, fields, query);\r\n        }\r\n    };\r\n    DropDownBase.prototype.updateSelectElementData = function (isFiltering) {\r\n        if (isFiltering && isNullOrUndefined(this.selectData) && this.listData && this.listData.length > 0) {\r\n            this.selectData = this.listData;\r\n        }\r\n    };\r\n    DropDownBase.prototype.updateSelection = function () {\r\n        // This is for after added the item, need to update the selected index values.\r\n    };\r\n    DropDownBase.prototype.renderList = function () {\r\n        // This is for render the list items.\r\n        this.render();\r\n    };\r\n    DropDownBase.prototype.updateDataSource = function (props) {\r\n        this.resetList(this.dataSource);\r\n    };\r\n    DropDownBase.prototype.setUpdateInitial = function (props, newProp) {\r\n        this.isDataFetched = false;\r\n        var updateData = {};\r\n        for (var j = 0; props.length > j; j++) {\r\n            if (newProp[props[j]] && props[j] === 'fields') {\r\n                this.setFields();\r\n            }\r\n            else if (newProp[props[j]]) {\r\n                updateData[props[j]] = newProp[props[j]];\r\n            }\r\n        }\r\n        if (Object.keys(updateData).length > 0) {\r\n            if (Object.keys(updateData).indexOf('dataSource') === -1) {\r\n                updateData.dataSource = this.dataSource;\r\n            }\r\n            this.updateDataSource(updateData);\r\n        }\r\n    };\r\n    /**\r\n     * When property value changes happened, then onPropertyChanged method will execute the respective changes in this component.\r\n     * @private\r\n     */\r\n    DropDownBase.prototype.onPropertyChanged = function (newProp, oldProp) {\r\n        if (this.getModuleName() === 'dropdownbase') {\r\n            this.setUpdateInitial(['fields', 'query', 'dataSource'], newProp);\r\n        }\r\n        this.setUpdateInitial(['sortOrder', 'itemTemplate'], newProp);\r\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\r\n            var prop = _a[_i];\r\n            switch (prop) {\r\n                case 'query':\r\n                case 'sortOrder':\r\n                case 'dataSource':\r\n                case 'itemTemplate':\r\n                    break;\r\n                case 'enableRtl':\r\n                    this.setEnableRtl();\r\n                    break;\r\n                case 'enabled':\r\n                    this.setEnabled();\r\n                    break;\r\n                case 'groupTemplate':\r\n                    this.renderGroupTemplate(this.list);\r\n                    if (this.ulElement && this.fixedHeaderElement) {\r\n                        var firstLi = this.ulElement.querySelector('.' + dropDownBaseClasses.group);\r\n                        this.fixedHeaderElement.innerHTML = firstLi.innerHTML;\r\n                    }\r\n                    break;\r\n                case 'locale':\r\n                    if (this.list && (!isNullOrUndefined(this.liCollections) && this.liCollections.length === 0)) {\r\n                        this.l10nUpdate();\r\n                    }\r\n                    break;\r\n                case 'zIndex':\r\n                    this.setProperties({ zIndex: newProp.zIndex }, true);\r\n                    this.setZIndex();\r\n                    break;\r\n            }\r\n        }\r\n    };\r\n    ;\r\n    /**\r\n     * Build and render the component\r\n     * @private\r\n     */\r\n    DropDownBase.prototype.render = function (isEmptyData) {\r\n        this.list = this.createElement('div', { className: dropDownBaseClasses.content, attrs: { 'tabindex': '0' } });\r\n        this.list.classList.add(dropDownBaseClasses.root);\r\n        this.setFields();\r\n        var rippleModel = { duration: 300, selector: '.' + dropDownBaseClasses.li };\r\n        this.rippleFun = rippleEffect(this.list, rippleModel);\r\n        var group = this.element.querySelector('select>optgroup');\r\n        if ((this.fields.groupBy || !isNullOrUndefined(group)) && !this.isGroupChecking) {\r\n            EventHandler.add(this.list, 'scroll', this.setFloatingHeader, this);\r\n        }\r\n        if (this.getModuleName() === 'dropdownbase') {\r\n            if (this.element.getAttribute('tabindex')) {\r\n                this.list.setAttribute('tabindex', this.element.getAttribute('tabindex'));\r\n            }\r\n            removeClass([this.element], dropDownBaseClasses.root);\r\n            this.element.style.display = 'none';\r\n            var wrapperElement = this.createElement('div');\r\n            this.element.parentElement.insertBefore(wrapperElement, this.element);\r\n            wrapperElement.appendChild(this.element);\r\n            wrapperElement.appendChild(this.list);\r\n        }\r\n        this.setEnableRtl();\r\n        this.setEnabled();\r\n        if (!isEmptyData) {\r\n            this.initialize();\r\n        }\r\n    };\r\n    ;\r\n    /**\r\n     * Return the module name of this component.\r\n     * @private\r\n     */\r\n    DropDownBase.prototype.getModuleName = function () {\r\n        return 'dropdownbase';\r\n    };\r\n    ;\r\n    /**\r\n     * Gets all the list items bound on this component.\r\n     * @returns Element[].\r\n     */\r\n    DropDownBase.prototype.getItems = function () {\r\n        return this.ulElement.querySelectorAll('.' + dropDownBaseClasses.li);\r\n    };\r\n    ;\r\n    /**\r\n     * Adds a new item to the popup list. By default, new item appends to the list as the last item,\r\n     * but you can insert based on the index parameter.\r\n     * @param  { Object[] } items - Specifies an array of JSON data or a JSON data.\r\n     * @param { number } itemIndex - Specifies the index to place the newly added item in the popup list.\r\n     * @return {void}.\r\n\r\n     */\r\n    DropDownBase.prototype.addItem = function (items, itemIndex) {\r\n        if (!this.list || (this.list.textContent === this.noRecordsTemplate && this.getModuleName() !== 'listbox')) {\r\n            this.renderList();\r\n        }\r\n        if (this.sortOrder !== 'None' && isNullOrUndefined(itemIndex)) {\r\n            var newList = [].slice.call(this.listData);\r\n            newList.push(items);\r\n            newList = this.getSortedDataSource(newList);\r\n            if (this.fields.groupBy) {\r\n                newList = ListBase.groupDataSource(newList, this.fields.properties, this.sortOrder);\r\n                itemIndex = newList.indexOf(items);\r\n            }\r\n            else {\r\n                itemIndex = newList.indexOf(items);\r\n            }\r\n        }\r\n        this.DropDownBaseresetBlazorTemplates(true, false, false, false);\r\n        var itemsCount = this.getItems().length;\r\n        var selectedItemValue = this.list.querySelector('.' + dropDownBaseClasses.selected);\r\n        items = (items instanceof Array ? items : [items]);\r\n        var index;\r\n        index = (isNullOrUndefined(itemIndex) || itemIndex < 0 || itemIndex > itemsCount - 1) ? itemsCount : itemIndex;\r\n        var fields = this.fields;\r\n        if (items && fields.groupBy) {\r\n            items = ListBase.groupDataSource(items, fields.properties);\r\n        }\r\n        var liCollections = [];\r\n        for (var i = 0; i < items.length; i++) {\r\n            var item = items[i];\r\n            var isHeader = item.isHeader;\r\n            var li = this.createElement('li', { className: isHeader ? dropDownBaseClasses.group : dropDownBaseClasses.li, id: 'option-add-' + i });\r\n            var itemText = item instanceof Object ? getValue(fields.text, item) : item;\r\n            if (isHeader) {\r\n                li.innerText = itemText;\r\n            }\r\n            if (this.itemTemplate && !isHeader) {\r\n                var compiledString = compile(this.itemTemplate);\r\n                // tslint:disable-next-line\r\n                var addItemTemplate = compiledString(item, this, 'itemTemplate', this.itemTemplateId, this.isStringTemplate, null, li);\r\n                if (addItemTemplate) {\r\n                    append(addItemTemplate, li);\r\n                }\r\n                this.DropDownBaseupdateBlazorTemplates(true, false, false, false);\r\n            }\r\n            else if (!isHeader) {\r\n                li.appendChild(document.createTextNode(itemText));\r\n            }\r\n            li.setAttribute('data-value', item instanceof Object ? getValue(fields.value, item) : item);\r\n            li.setAttribute('role', 'option');\r\n            this.notify('addItem', { module: 'CheckBoxSelection', item: li });\r\n            liCollections.push(li);\r\n            this.listData.push(item);\r\n            if (this.sortOrder === 'None' && isNullOrUndefined(itemIndex) && index === 0) {\r\n                index = null;\r\n            }\r\n            this.updateActionCompleteData(li, item, index);\r\n            //Listbox event\r\n            this.trigger('beforeItemRender', { element: li, item: item });\r\n        }\r\n        if (itemsCount === 0 && isNullOrUndefined(this.list.querySelector('ul'))) {\r\n            this.list.innerHTML = '';\r\n            this.list.classList.remove(dropDownBaseClasses.noData);\r\n            this.list.appendChild(this.ulElement);\r\n            this.liCollections = liCollections;\r\n            append(liCollections, this.ulElement);\r\n            this.updateAddItemList(this.list, itemsCount);\r\n        }\r\n        else {\r\n            if (this.getModuleName() === 'listbox' && itemsCount === 0) {\r\n                this.ulElement.innerHTML = '';\r\n            }\r\n            var attr = [];\r\n            for (var i = 0; i < items.length; i++) {\r\n                var listGroupItem = this.ulElement.querySelectorAll('.e-list-group-item');\r\n                for (var j = 0; j < listGroupItem.length; j++) {\r\n                    attr[j] = listGroupItem[j].innerText;\r\n                }\r\n                if (attr.indexOf(liCollections[i].innerText) > -1 && fields.groupBy) {\r\n                    for (var j = 0; j < listGroupItem.length; j++) {\r\n                        if (attr[j] === liCollections[i].innerText) {\r\n                            if (this.sortOrder === 'None') {\r\n                                this.ulElement.insertBefore(liCollections[i + 1], listGroupItem[j + 1]);\r\n                            }\r\n                            else {\r\n                                this.ulElement.insertBefore(liCollections[i + 1], this.ulElement.childNodes[itemIndex]);\r\n                            }\r\n                            i = i + 1;\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n                else {\r\n                    if (this.liCollections[index]) {\r\n                        this.liCollections[index].parentNode.insertBefore(liCollections[i], this.liCollections[index]);\r\n                    }\r\n                    else {\r\n                        this.ulElement.appendChild(liCollections[i]);\r\n                    }\r\n                }\r\n                var tempLi = [].slice.call(this.liCollections);\r\n                tempLi.splice(index, 0, liCollections[i]);\r\n                this.liCollections = tempLi;\r\n                index += 1;\r\n                if (this.getModuleName() === 'multiselect') {\r\n                    this.updateDataList();\r\n                }\r\n            }\r\n        }\r\n        if (selectedItemValue || itemIndex === 0) {\r\n            this.updateSelection();\r\n        }\r\n    };\r\n    DropDownBase.prototype.validationAttribute = function (target, hidden) {\r\n        var name = target.getAttribute('name') ? target.getAttribute('name') : target.getAttribute('id');\r\n        hidden.setAttribute('name', name);\r\n        target.removeAttribute('name');\r\n        var attributes = ['required', 'aria-required', 'form'];\r\n        for (var i = 0; i < attributes.length; i++) {\r\n            if (!target.getAttribute(attributes[i])) {\r\n                continue;\r\n            }\r\n            var attr = target.getAttribute(attributes[i]);\r\n            hidden.setAttribute(attributes[i], attr);\r\n            target.removeAttribute(attributes[i]);\r\n        }\r\n    };\r\n    DropDownBase.prototype.setZIndex = function () {\r\n        // this is for component wise\r\n    };\r\n    DropDownBase.prototype.updateActionCompleteData = function (li, item, index) {\r\n        // this is for ComboBox custom value\r\n    };\r\n    DropDownBase.prototype.updateAddItemList = function (list, itemCount) {\r\n        // this is for multiselect add item\r\n    };\r\n    DropDownBase.prototype.updateDataList = function () {\r\n        // this is for multiselect update list items\r\n    };\r\n    /**\r\n     * Gets the data Object that matches the given value.\r\n     * @param { string | number } value - Specifies the value of the list item.\r\n     * @returns Object.\r\n     * @blazorType object\r\n     */\r\n    DropDownBase.prototype.getDataByValue = function (value) {\r\n        if (!isNullOrUndefined(this.listData)) {\r\n            var type = this.typeOfData(this.listData).typeof;\r\n            if (type === 'string' || type === 'number' || type === 'boolean') {\r\n                for (var _i = 0, _a = this.listData; _i < _a.length; _i++) {\r\n                    var item = _a[_i];\r\n                    if (!isNullOrUndefined(item) && item === value) {\r\n                        return item;\r\n                    }\r\n                }\r\n            }\r\n            else {\r\n                for (var _b = 0, _c = this.listData; _b < _c.length; _b++) {\r\n                    var item = _c[_b];\r\n                    if (!isNullOrUndefined(item) && getValue((this.fields.value ? this.fields.value : 'value'), item) === value) {\r\n                        return item;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return null;\r\n    };\r\n    /**\r\n     * Removes the component from the DOM and detaches all its related event handlers. It also removes the attributes and classes.\r\n     * @method destroy\r\n     * @return {void}.\r\n     */\r\n    DropDownBase.prototype.destroy = function () {\r\n        if (document.body.contains(this.list)) {\r\n            EventHandler.remove(this.list, 'scroll', this.setFloatingHeader);\r\n            if (!isNullOrUndefined(this.rippleFun)) {\r\n                this.rippleFun();\r\n            }\r\n            detach(this.list);\r\n        }\r\n        _super.prototype.destroy.call(this);\r\n    };\r\n    ;\r\n    __decorate([\r\n        Complex({ text: null, value: null, iconCss: null, groupBy: null }, FieldSettings)\r\n    ], DropDownBase.prototype, \"fields\", void 0);\r\n    __decorate([\r\n        Property(false)\r\n    ], DropDownBase.prototype, \"enablePersistence\", void 0);\r\n    __decorate([\r\n        Property(null)\r\n    ], DropDownBase.prototype, \"itemTemplate\", void 0);\r\n    __decorate([\r\n        Property(null)\r\n    ], DropDownBase.prototype, \"groupTemplate\", void 0);\r\n    __decorate([\r\n        Property('No records found')\r\n    ], DropDownBase.prototype, \"noRecordsTemplate\", void 0);\r\n    __decorate([\r\n        Property('Request failed')\r\n    ], DropDownBase.prototype, \"actionFailureTemplate\", void 0);\r\n    __decorate([\r\n        Property('None')\r\n    ], DropDownBase.prototype, \"sortOrder\", void 0);\r\n    __decorate([\r\n        Property(true)\r\n    ], DropDownBase.prototype, \"enabled\", void 0);\r\n    __decorate([\r\n        Property([])\r\n    ], DropDownBase.prototype, \"dataSource\", void 0);\r\n    __decorate([\r\n        Property(null)\r\n    ], DropDownBase.prototype, \"query\", void 0);\r\n    __decorate([\r\n        Property('StartsWith')\r\n    ], DropDownBase.prototype, \"filterType\", void 0);\r\n    __decorate([\r\n        Property(true)\r\n    ], DropDownBase.prototype, \"ignoreCase\", void 0);\r\n    __decorate([\r\n        Property(1000)\r\n    ], DropDownBase.prototype, \"zIndex\", void 0);\r\n    __decorate([\r\n        Property(false)\r\n    ], DropDownBase.prototype, \"ignoreAccent\", void 0);\r\n    __decorate([\r\n        Property()\r\n    ], DropDownBase.prototype, \"locale\", void 0);\r\n    __decorate([\r\n        Event()\r\n    ], DropDownBase.prototype, \"actionBegin\", void 0);\r\n    __decorate([\r\n        Event()\r\n    ], DropDownBase.prototype, \"actionComplete\", void 0);\r\n    __decorate([\r\n        Event()\r\n    ], DropDownBase.prototype, \"actionFailure\", void 0);\r\n    __decorate([\r\n        Event()\r\n    ], DropDownBase.prototype, \"select\", void 0);\r\n    __decorate([\r\n        Event()\r\n    ], DropDownBase.prototype, \"dataBound\", void 0);\r\n    __decorate([\r\n        Event()\r\n    ], DropDownBase.prototype, \"created\", void 0);\r\n    __decorate([\r\n        Event()\r\n    ], DropDownBase.prototype, \"destroyed\", void 0);\r\n    DropDownBase = __decorate([\r\n        NotifyPropertyChanges\r\n    ], DropDownBase);\r\n    return DropDownBase;\r\n}(Component));\r\nexport { DropDownBase };\r\n"]},"metadata":{},"sourceType":"module"}